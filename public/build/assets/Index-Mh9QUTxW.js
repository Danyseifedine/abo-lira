import{c as W,a as O,t as q,g as L,d as G,b as H,u as J,e as K,D as Q,_ as X,f as x}from"./index-BW-UAAHL.js";import{u as V,_ as Y}from"./useToast-CtOIdxR-.js";import{_ as w}from"./DashboardButton.vue_vue_type_script_setup_true_lang-jdvaR_3Y.js";import{_ as D}from"./DashboardDatePicker.vue_vue_type_style_index_0_lang-3c7o6w-E.js";import{p as S}from"./parsers-DcDh6GPu.js";import{d as Z,j as ee,k as te,f as k,o as u,w as d,a as l,b as s,u as e,m as oe,W as F,g as p,c as T,e as g,t as v,p as se}from"./app-C_9PBI8O.js";import{_ as re}from"./AdminLayout.vue_vue_type_script_setup_true_lang-zQel-0qJ.js";import{_ as R}from"./index-DmYhWnlU.js";import{C as ae}from"./copy-DDU0OimM.js";import{E as le}from"./eye-BCOMMbRf.js";import{S as ie}from"./square-pen-B6P9Gt_h.js";import{T as ne}from"./trash-2-BLGLvqc7.js";import{P as de}from"./plus-C3KgGLEl.js";import"./index-D-urzs1U.js";import"./createLucideIcon-C0ithsll.js";import"./Card.vue_vue_type_script_setup_true_lang-CdHN0ZfT.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-vhl8EJLP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BxeelRGj.js";import"./Switch.vue_vue_type_script_setup_true_lang-DlH5kZNA.js";import"./index-CKRth63G.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-B3JVcvq7.js";import"./refresh-cw-Dd2PsCct.js";import"./index-XY12mXXh.js";import"./index-BMs6oOoE.js";import"./index-BGfNR6OY.js";import"./index-wI7wi_Ra.js";import"./index-COJUaldu.js";import"./useGuard-BknsbsIw.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DnC3vUMI.js";function me(c){const{showCopyToClipboardToast:n}=V();return W([O("#",{startFrom:1}),q("name","Name",{sortable:!0,searchable:!0,visible:!0,className:"font-medium font-bold w-[120px]"}),L("permissions","Permissions"),G("created_at","Created",{relative:!0}),H([{label:"Copy ID",icon:ae,onClick:r=>{navigator.clipboard.writeText(r.id.toString()),n("Role ID")}},{separator:!0,label:"Separator"},{label:"View",icon:le,href:r=>route("super-admin.roles.show",r.id)},{label:"Edit",icon:ie,href:r=>route("super-admin.roles.edit",r.id)},{separator:!0,label:"Separator"},{label:"Delete",icon:ne,destructive:!0,onClick:r=>{c(r)}}])])}const ue={class:"p-4"},pe={class:"mb-6 flex items-center justify-between"},ce={key:0,class:"flex items-center gap-2"},fe={class:"space-y-4"},_e={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ge={class:"space-y-2"},ve={class:"space-y-2"},Ce={class:"flex items-center justify-between border-t pt-4"},be={class:"text-sm text-muted-foreground"},ye={key:0},he={class:"flex gap-2"},Ye=Z({__name:"Index",props:{roles:{},filters:{}},setup(c){const n=c,r=()=>{const o=n.filters;return{...o,created_from:S(o==null?void 0:o.created_from),created_to:S(o==null?void 0:o.created_to)}},{localFilters:a,isFilteringLoading:C,hasActiveFilters:f,activeFilterCount:m,applyFilters:N,clearFilters:$,updateFilters:P}=J(r(),{routeName:"super-admin.roles.index",preserveState:!1,preserveScroll:!0});ee(()=>n.filters,o=>{o&&P(r())},{deep:!0});const z=()=>{a.value.created_from&&(a.value.created_from=x(a.value.created_from)),a.value.created_to&&(a.value.created_to=x(a.value.created_to)),N()},B={searchable:!0,searchPlaceholder:"Search roles by name...",selectable:!0,columnVisibility:!0,perPageSelector:!0,perPageOptions:[10,25,50,100],serverSide:!0,pagination:n.roles,filterable:!0,filters:{...n.filters,direction:n.filters.direction},routeName:"super-admin.roles.index"},E=o=>{console.log("Selected:",o)},{initFlashToasts:M}=V();te(()=>{M()});const j=o=>{F.get(route("super-admin.roles.show",o))},A=[{title:"Roles",href:route("super-admin.roles.index")}],{deleteDialogOpen:_,itemToDelete:b,openDeleteDialog:I}=K(),U=me(I);return(o,t)=>(u(),k(re,{breadcrumbs:A},{default:d(()=>{var y,h;return[l(e(oe),{title:"Roles"}),s("div",ue,[s("div",pe,[t[5]||(t[5]=s("div",null,[s("h1",{class:"text-3xl font-bold"},"Roles"),s("p",{class:"mt-1 text-muted-foreground"},"Manage system roles and their permissions")],-1)),l(w,{variant:"default",onClick:t[0]||(t[0]=()=>e(F).get(o.route("super-admin.roles.create")))},{default:d(()=>[l(e(de),{class:"mr-2 h-4 w-4"}),t[4]||(t[4]=p(" Add Role ",-1))]),_:1})]),l(Q,{columns:e(U),data:o.roles.data,config:B,onSelectionChange:E,onRowClick:j},{toolbar:d(({table:i})=>[e(f)?(u(),T("div",ce,[l(e(X),{value:`${e(m)} ${e(m)===1?"filter":"filters"} active`,severity:"info"},null,8,["value"])])):g("",!0),i.getFilteredSelectedRowModel().rows.length>0?(u(),k(e(R),{key:1,variant:"destructive",size:"sm"},{default:d(()=>[p(" Delete ("+v(i.getFilteredSelectedRowModel().rows.length)+") ",1)]),_:2},1024)):g("",!0)]),filters:d(()=>[s("div",fe,[s("div",_e,[s("div",ge,[t[6]||(t[6]=s("label",{class:"text-sm font-medium"},"Created From",-1)),l(D,{modelValue:e(a).created_from,"onUpdate:modelValue":t[1]||(t[1]=i=>e(a).created_from=i),placeholder:"Select Created From",size:"small","icon-display":"input"},null,8,["modelValue"])]),s("div",ve,[t[7]||(t[7]=s("label",{class:"text-sm font-medium"},"Created To",-1)),l(D,{modelValue:e(a).created_to,"onUpdate:modelValue":t[2]||(t[2]=i=>e(a).created_to=i),placeholder:"Select Created To",size:"small","icon-display":"input"},null,8,["modelValue"])])]),s("div",Ce,[s("div",be,[e(f)?(u(),T("span",ye,v(e(m))+" "+v(e(m)===1?"filter":"filters")+" applied ",1)):g("",!0)]),s("div",he,[l(e(R),{onClick:e($),variant:"ghost",size:"sm",disabled:!e(f)||e(C)},{default:d(()=>[...t[8]||(t[8]=[p(" Clear All ",-1)])]),_:1},8,["onClick","disabled"]),l(w,{onClick:z,size:"sm",variant:"default",loading:e(C)},{default:d(()=>[...t[9]||(t[9]=[p("Filter",-1)])]),_:1},8,["loading"])])])])]),_:1},8,["columns","data"]),l(Y,{open:e(_),"onUpdate:open":t[3]||(t[3]=i=>se(_)?_.value=i:null),"item-id":((y=e(b))==null?void 0:y.id)??null,"item-name":(h=e(b))==null?void 0:h.name,"route-name":"super-admin.roles.destroy",title:"Delete Role"},null,8,["open","item-id","item-name"])])]}),_:1}))}});export{Ye as default};
