import{u as O,c as X,a as Y,t as V,b as v,j as z,e as Z,C as ee,f as te,g as ae,D as se,_ as oe,h as le,p as D,i as L}from"./index-DTsXsMMh.js";import{_ as P}from"./DashboardButton.vue_vue_type_script_setup_true_lang-D6e96RRl.js";import{_ as $}from"./DashboardDatePicker.vue_vue_type_style_index_0_lang-DLmBjzld.js";import{_ as g}from"./DashboardSelect.vue_vue_type_style_index_1_lang-8WXSC5fv.js";import{_ as t}from"./translations-LIzyJrPj.js";import{A as re,W as N,d as ie,n as de,I as ne,J as ce,f as I,o as x,w as b,a as d,b as o,u as e,m as me,t as i,g as y,c as U,e as S,L as ue}from"./app-EMxj6o_A.js";import{_ as pe}from"./AdminLayout.vue_vue_type_script_setup_true_lang-D4XRMGmz.js";import{_ as B}from"./index-BPwdUVDO.js";import{c as F}from"./converters-DLekJskJ.js";import{S as _e}from"./square-pen-CBxUPziC.js";import{T as fe}from"./trash-2-D3dOv64Y.js";import{P as be}from"./plus-CbM6lNxt.js";import"./createLucideIcon-BQWQbCcp.js";import"./index-DKgueyfl.js";import"./Card.vue_vue_type_script_setup_true_lang-CsDx7vf3.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-7mC10zVG.js";import"./check-BwANXeE4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CRM5SebG.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-DMAJdvHJ.js";import"./Switch.vue_vue_type_script_setup_true_lang-eFugEPkn.js";import"./index-CE6ueUjn.js";import"./index-D5sDIG6-.js";import"./index-CoJPb2n-.js";import"./index-pz6Qzd7g.js";import"./index-kix7hcxE.js";import"./index-CQnTRKBp.js";import"./index-CwrwJW2V.js";import"./index-Dxr5N3in.js";import"./useGuard-CC8jQjNz.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-0j8yLq6m.js";function he(w,n){const{showCopyToClipboardToast:u}=O(),c=re(!1);return X([Y(n.number,{headerClassName:"text-start",startFrom:1}),V("name_en",n.name_en,{sortable:!0,searchable:!0,visible:!0,className:"font-medium font-bold",showIf:()=>document.dir==="ltr"}),V("name_ar",n.name_ar,{sortable:!0,searchable:!0,className:"font-arabic text-start",headerClassName:"text-start px-0",showIf:()=>document.dir==="rtl"}),v("category.name_en",n.category,{sortable:!1,className:"text-start",showIf:()=>document.dir==="ltr"}),v("category.name_ar",n.category,{sortable:!1,headerClassName:"text-start px-0",className:"text-start px-0",showIf:()=>document.dir==="rtl"}),v("quality.name_en",n.quality,{sortable:!1,showIf:()=>document.dir==="ltr"}),v("quality.name_ar",n.quality,{sortable:!1,className:"text-start px-0",headerClassName:"text-start px-0",showIf:()=>document.dir==="rtl"}),V("price",n.price,{sortable:!0,className:"font-medium text-start px-2",headerClassName:"text-start px-0",format:a=>a?a.toString():"_"}),z("status",n.active,{headerClassName:"text-center px-0",onToggle:(a,h,_)=>{N.patch(route("super-admin.products.toggle-status",h.id),{status:a},{preserveScroll:!0,preserveState:!0,onStart:()=>{c.value=!0},onFinish:()=>{c.value=!1},onSuccess:p=>{var f;const m=(f=p.props.flash)==null?void 0:f.toast;(m==null?void 0:m.success)===!1&&_.revert()}})},disabled:()=>c.value,toggledWhen:a=>F(a),size:"sm"}),z("is_new",n.is_new,{headerClassName:"text-center px-0",onToggle:(a,h,_)=>{N.patch(route("super-admin.products.toggle-is-new",h.id),{is_new:a},{preserveScroll:!0,preserveState:!0,onStart:()=>{c.value=!0},onFinish:()=>{c.value=!1},onSuccess:p=>{var f;const m=(f=p.props.flash)==null?void 0:f.toast;(m==null?void 0:m.success)===!1&&_.revert()}})},disabled:()=>c.value,toggledWhen:a=>F(a),size:"sm"}),Z([{label:t("datatable.copy_id"),icon:ee,onClick:a=>{navigator.clipboard.writeText(a.id.toString()),u(t("datatable.product_id"))}},{separator:!0,label:t("datatable.separator")},{label:t("datatable.edit"),icon:_e,href:a=>a.has_variants?route("super-admin.products.edit-complex",a.id):route("super-admin.products.edit",a.id)},{separator:!0,label:t("datatable.separator")},{label:t("datatable.delete"),icon:fe,destructive:!0,onClick:a=>{w(a)}}])])}const ge={class:"p-4"},ve={class:"mb-6 flex items-center justify-between"},xe={class:"text-3xl font-bold"},ye={class:"mt-1 text-muted-foreground"},we={class:"flex gap-2"},Ce={key:0,class:"flex items-center gap-2"},Ve={class:"space-y-4"},Se={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5"},Ne={class:"space-y-2"},Te={class:"text-sm font-medium"},ke={class:"space-y-2"},qe={class:"text-sm font-medium"},ze={class:"space-y-2"},De={class:"text-sm font-medium"},Le={class:"space-y-2"},Pe={class:"text-sm font-medium"},$e={class:"space-y-2"},Ie={class:"text-sm font-medium"},Ue={class:"space-y-2"},Be={class:"text-sm font-medium"},Fe={class:"space-y-2"},Oe={class:"text-sm font-medium"},We={class:"flex items-center justify-between border-t pt-4"},je={class:"text-sm text-muted-foreground"},Me={key:0},Re={class:"flex gap-2"},yt=ie({__name:"Index",props:{products:{},filters:{},columnLabels:{},categories:{},qualities:{}},setup(w){const n=de(),u=w,c=()=>{const s=u.filters;return{...s,status:(s==null?void 0:s.status)||"",category_id:(s==null?void 0:s.category_id)||null,quality_id:(s==null?void 0:s.quality_id)||null,has_variants:(s==null?void 0:s.has_variants)||"",is_new:(s==null?void 0:s.is_new)||"",created_from:D(s==null?void 0:s.created_from),created_to:D(s==null?void 0:s.created_to)}},{localFilters:a,isFilteringLoading:h,hasActiveFilters:_,activeFilterCount:p,applyFilters:m,clearFilters:f,updateFilters:W}=te(c(),{routeName:"super-admin.products.index",preserveState:!1,preserveScroll:!0});ne(()=>u.filters,s=>{s&&W(c())},{deep:!0});const j=[{name:t("datatable.active"),code:"active"},{name:t("datatable.inactive"),code:"inactive"}],M=[{name:t("datatable.yes"),code:"yes"},{name:t("datatable.no"),code:"no"}],R=[{name:t("datatable.yes"),code:"yes"},{name:t("datatable.no"),code:"no"}],A=()=>{a.value.created_from&&(a.value.created_from=L(a.value.created_from)),a.value.created_to&&(a.value.created_to=L(a.value.created_to)),m()},E={searchable:!0,searchPlaceholder:t("datatable.search_placeholder"),selectable:!0,columnVisibility:!0,perPageSelector:!0,perPageOptions:[10,25,50,100],serverSide:!0,pagination:u.products,filterable:!0,filters:{...u.filters,direction:u.filters.direction},routeName:"super-admin.products.index"},J=()=>{},{initFlashToasts:G}=O();ce(()=>{G()});const H=[{title:t("sidebar.products"),href:route("super-admin.products.index")}],{deleteDialogOpen:C,itemToDelete:T,openDeleteDialog:K}=ae(),Q=he(K,u.columnLabels);return(s,l)=>(x(),I(pe,{breadcrumbs:H},{default:b(()=>{var k,q;return[d(e(me),{title:e(t)("sidebar.products")},null,8,["title"]),o("div",ge,[o("div",ve,[o("div",null,[o("h1",xe,i(e(t)("datatable.products.title")),1),o("p",ye,i(e(t)("datatable.products.description")),1)]),o("div",we,[d(P,{variant:"outline",onClick:l[0]||(l[0]=()=>e(N).get(s.route("super-admin.products.create-complex")))},{default:b(()=>[d(e(be),{class:"mr-2 h-4 w-4"}),y(" "+i(e(t)("datatable.add_complex_product")),1)]),_:1})])]),d(se,{columns:e(Q),data:s.products.data,config:E,onSelectionChange:J},{toolbar:b(({table:r})=>[e(_)?(x(),U("div",Ce,[d(e(oe),{value:`${e(p)} ${e(p)===1?e(t)("datatable.filter"):e(t)("datatable.filters")} ${e(t)("datatable.applied")}`,severity:"info"},null,8,["value"])])):S("",!0),r.getFilteredSelectedRowModel().rows.length>0?(x(),I(e(B),{key:1,variant:"destructive",size:"sm"},{default:b(()=>[y(i(e(t)("datatable.delete"))+" ("+i(r.getFilteredSelectedRowModel().rows.length)+") ",1)]),_:2},1024)):S("",!0)]),filters:b(()=>[o("div",Ve,[o("div",Se,[o("div",Ne,[o("label",Te,i(e(t)("datatable.status")),1),d(g,{modelValue:e(a).status,"onUpdate:modelValue":l[1]||(l[1]=r=>e(a).status=r),options:j,optionLabel:"name",optionValue:"code",placeholder:e(t)("datatable.all_status"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),o("div",ke,[o("label",qe,i(e(t)("datatable.category")),1),d(g,{modelValue:e(a).category_id,"onUpdate:modelValue":l[2]||(l[2]=r=>e(a).category_id=r),options:s.categories,optionLabel:e(n).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(t)("datatable.all_categories"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(t)("datatable.search")},null,8,["modelValue","options","optionLabel","placeholder","filterPlaceholder"])]),o("div",ze,[o("label",De,i(e(t)("datatable.quality")),1),d(g,{modelValue:e(a).quality_id,"onUpdate:modelValue":l[3]||(l[3]=r=>e(a).quality_id=r),options:s.qualities,optionLabel:e(n).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(t)("datatable.all_qualities"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(t)("datatable.search")},null,8,["modelValue","options","optionLabel","placeholder","filterPlaceholder"])]),o("div",Le,[o("label",Pe,i(e(t)("datatable.has_variants")),1),d(g,{modelValue:e(a).has_variants,"onUpdate:modelValue":l[4]||(l[4]=r=>e(a).has_variants=r),options:M,optionLabel:"name",optionValue:"code",placeholder:e(t)("datatable.all"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),o("div",$e,[o("label",Ie,i(e(t)("datatable.is_new")),1),d(g,{modelValue:e(a).is_new,"onUpdate:modelValue":l[5]||(l[5]=r=>e(a).is_new=r),options:R,optionLabel:"name",optionValue:"code",placeholder:e(t)("datatable.all"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),o("div",Ue,[o("label",Be,i(e(t)("datatable.created_from")),1),d($,{modelValue:e(a).created_from,"onUpdate:modelValue":l[6]||(l[6]=r=>e(a).created_from=r),placeholder:e(t)("datatable.select_created_from"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])]),o("div",Fe,[o("label",Oe,i(e(t)("datatable.created_to")),1),d($,{modelValue:e(a).created_to,"onUpdate:modelValue":l[7]||(l[7]=r=>e(a).created_to=r),placeholder:e(t)("datatable.select_created_to"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])])]),o("div",We,[o("div",je,[e(_)?(x(),U("span",Me,i(e(p))+" "+i(e(p)===1?e(t)("datatable.filter"):e(t)("datatable.filters"))+" "+i(e(t)("datatable.applied")),1)):S("",!0)]),o("div",Re,[d(e(B),{onClick:e(f),variant:"ghost",size:"sm",disabled:!e(_)||e(h)},{default:b(()=>[y(i(e(t)("datatable.clear_all")),1)]),_:1},8,["onClick","disabled"]),d(P,{onClick:A,size:"sm",variant:"default",loading:e(h)},{default:b(()=>[y(i(e(t)("datatable.filter")),1)]),_:1},8,["loading"])])])])]),_:1},8,["columns","data"]),d(le,{open:e(C),"onUpdate:open":l[8]||(l[8]=r=>ue(C)?C.value=r:null),"item-id":((k=e(T))==null?void 0:k.id)??null,"item-name":(q=e(T))==null?void 0:q.name_en,"route-name":"super-admin.products.destroy",title:e(t)("datatable.delete"),description:e(t)("datatable.delete_confirmation_text"),"confirm-button-text":e(t)("datatable.delete_confirmation_button")},null,8,["open","item-id","item-name","title","description","confirm-button-text"])])]}),_:1}))}});export{yt as default};
