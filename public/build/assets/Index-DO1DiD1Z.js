import{c as J,a as K,t as c,g as Q,d as X,b as Y,u as Z,e as ee,D as te,_ as ae,f as T}from"./index-BW-UAAHL.js";import{u as R,_ as se}from"./useToast-CtOIdxR-.js";import{_ as oe}from"./datatableStatusChangeDialog.vue_vue_type_script_setup_true_lang-D2foHsAL.js";import{_ as re}from"./DashboardButton.vue_vue_type_script_setup_true_lang-jdvaR_3Y.js";import{_ as $}from"./DashboardDatePicker.vue_vue_type_style_index_0_lang-3c7o6w-E.js";import{_ as le}from"./DashboardSelect.vue_vue_type_style_index_1_lang-CJ5jZZRb.js";import{D as z}from"./DashboardTextInput-CA9DhSSj.js";import{p as F}from"./parsers-DcDh6GPu.js";import{_ as t}from"./index-D-urzs1U.js";import{d as ie,j as de,k as ne,q as O,f as U,o as b,w as p,a as n,b as s,u as e,m as me,t as i,c as B,e as C,g as y,p as ue}from"./app-C_9PBI8O.js";import{_ as ce}from"./AdminLayout.vue_vue_type_script_setup_true_lang-zQel-0qJ.js";import{_ as P}from"./index-DmYhWnlU.js";import{C as pe}from"./copy-DDU0OimM.js";import{E as _e}from"./eye-BCOMMbRf.js";import{R as fe}from"./refresh-cw-Dd2PsCct.js";import{T as be}from"./trash-2-BLGLvqc7.js";import"./Card.vue_vue_type_script_setup_true_lang-CdHN0ZfT.js";import"./createLucideIcon-C0ithsll.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-vhl8EJLP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BxeelRGj.js";import"./Switch.vue_vue_type_script_setup_true_lang-DlH5kZNA.js";import"./index-CKRth63G.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-B3JVcvq7.js";import"./index-XY12mXXh.js";import"./index-BMs6oOoE.js";import"./index-BGfNR6OY.js";import"./index-wI7wi_Ra.js";import"./index-COJUaldu.js";import"./index-Dz822CN2.js";import"./index-DsHA7fuX.js";import"./useGuard-BknsbsIw.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DnC3vUMI.js";function he(h,u,d){const{showCopyToClipboardToast:o}=R();return J([K(d.number,{headerClassName:"text-start",startFrom:1}),c("order_number",d.order_number,{sortable:!0,searchable:!0,visible:!0,className:"font-medium text-start font-bold",headerClassName:"text-start px-0"}),c("f_name",d.f_name,{sortable:!0,searchable:!0,className:"text-start",headerClassName:"text-start px-0"}),c("l_name",d.l_name,{sortable:!0,searchable:!0,className:"text-start",headerClassName:"text-start px-0"}),c("phone_number",d.phone_number,{searchable:!0,className:"text-start",headerClassName:"text-start px-0"}),c("city",d.city,{searchable:!0,className:"text-start",headerClassName:"text-start px-0"}),c("total_amount",d.total_amount,{searchable:!0,className:"text-start",headerClassName:"text-start px-0"}),Q("status",d.status,{variants:{[t("order.status.pending")]:"warning",[t("order.status.accepted")]:"info",[t("order.status.on_the_way")]:"default",[t("order.status.completed")]:"success",[t("order.status.rejected")]:"destructive",[t("order.status.refunded")]:"secondary"},defaultVariant:"secondary",headerClassName:"text-start",className:"text-start"}),X("created_at",d.created,{relative:!0,className:"text-center",headerClassName:"text-center px-0"}),Y([{label:t("datatable.copy_id"),icon:pe,onClick:m=>{navigator.clipboard.writeText(m.id.toString()),o(t("datatable.order_id"))}},{separator:!0,label:t("datatable.separator")},{label:t("datatable.view"),icon:_e,href:m=>route("super-admin.orders.show",m.id)},{separator:!0,label:t("datatable.separator")},{label:t("datatable.change_status"),icon:fe,onClick:m=>{u(m)}},{separator:!0,label:t("datatable.separator")},{label:t("datatable.delete"),icon:be,destructive:!0,onClick:m=>{h(m)}}])])}const xe={class:"p-4"},ve={class:"mb-6 flex items-center justify-between"},ge={class:"text-3xl font-bold"},Ce={key:0,class:"flex items-center gap-2"},ye={class:"space-y-4"},Ne={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},Ve={class:"space-y-2"},we={class:"text-sm font-medium"},De={class:"space-y-2"},ke={class:"text-sm font-medium"},Se={class:"space-y-2"},Te={class:"text-sm font-medium"},$e={class:"space-y-2"},ze={class:"text-sm font-medium"},Fe={class:"space-y-2"},Oe={class:"text-sm font-medium"},Ue={class:"flex items-center justify-between border-t pt-4"},Be={class:"text-sm text-muted-foreground"},Pe={key:0},Re={class:"flex gap-2"},xt=ie({__name:"Index",props:{orders:{},filters:{},columnLabels:{},statusOptions:{}},setup(h){const u=h,d=()=>{const a=u.filters;return{...a,status:(a==null?void 0:a.status)||"",created_from:F(a==null?void 0:a.created_from),created_to:F(a==null?void 0:a.created_to),min_amount:(a==null?void 0:a.min_amount)||"",max_amount:(a==null?void 0:a.max_amount)||""}},{localFilters:o,isFilteringLoading:m,hasActiveFilters:x,activeFilterCount:_,applyFilters:j,clearFilters:L,updateFilters:E}=Z(d(),{routeName:"super-admin.orders.index",preserveState:!1,preserveScroll:!0});de(()=>u.filters,a=>{a&&E(d())},{deep:!0});const M=()=>{o.value.created_from&&(o.value.created_from=T(o.value.created_from)),o.value.created_to&&(o.value.created_to=T(o.value.created_to)),j()},I={searchable:!0,searchPlaceholder:t("datatable.search_placeholder"),selectable:!0,columnVisibility:!0,perPageSelector:!0,perPageOptions:[10,25,50,100],serverSide:!0,pagination:u.orders,filterable:!0,filters:{...u.filters,direction:u.filters.direction},routeName:"super-admin.orders.index"},q=()=>{},{initFlashToasts:A}=R();ne(()=>{A()});const H=[{title:t("datatable.orders.title"),href:route("super-admin.orders.index")}],{deleteDialogOpen:v,itemToDelete:N,openDeleteDialog:W}=ee(),g=O(!1),f=O(null),G=he(W,a=>{f.value=a,g.value=!0},u.columnLabels);return(a,l)=>(b(),U(ce,{breadcrumbs:H},{default:p(()=>{var V,w,D,k,S;return[n(e(me),{title:e(t)("datatable.orders.title")},null,8,["title"]),s("div",xe,[s("div",ve,[s("div",null,[s("h1",ge,i(e(t)("datatable.orders.title")),1)])]),n(te,{columns:e(G),data:a.orders.data,config:I,onSelectionChange:q},{toolbar:p(({table:r})=>[e(x)?(b(),B("div",Ce,[n(e(ae),{value:`${e(_)} ${e(_)===1?"filter":"filters"} active`,severity:"info"},null,8,["value"])])):C("",!0),r.getFilteredSelectedRowModel().rows.length>0?(b(),U(e(P),{key:1,variant:"destructive",size:"sm"},{default:p(()=>[y(i(e(t)("datatable.delete"))+" ("+i(r.getFilteredSelectedRowModel().rows.length)+") ",1)]),_:2},1024)):C("",!0)]),filters:p(()=>[s("div",ye,[s("div",Ne,[s("div",Ve,[s("label",we,i(e(t)("datatable.status")),1),n(le,{modelValue:e(o).status,"onUpdate:modelValue":l[0]||(l[0]=r=>e(o).status=r),options:a.statusOptions,optionLabel:"label",optionValue:"value",placeholder:e(t)("datatable.all_status"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(t)("datatable.search")+"...",scrollHeight:"200px"},null,8,["modelValue","options","placeholder","filterPlaceholder"])]),s("div",De,[s("label",ke,i(e(t)("datatable.created_from")),1),n($,{modelValue:e(o).created_from,"onUpdate:modelValue":l[1]||(l[1]=r=>e(o).created_from=r),placeholder:e(t)("datatable.select_created_from"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])]),s("div",Se,[s("label",Te,i(e(t)("datatable.created_to")),1),n($,{modelValue:e(o).created_to,"onUpdate:modelValue":l[2]||(l[2]=r=>e(o).created_to=r),placeholder:e(t)("datatable.select_created_to"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])]),s("div",$e,[s("label",ze,i(e(t)("datatable.min_amount")),1),n(z,{modelValue:e(o).min_amount,"onUpdate:modelValue":l[3]||(l[3]=r=>e(o).min_amount=r),type:"number",step:"0.01",placeholder:e(t)("datatable.min_amount")},null,8,["modelValue","placeholder"])]),s("div",Fe,[s("label",Oe,i(e(t)("datatable.max_amount")),1),n(z,{modelValue:e(o).max_amount,"onUpdate:modelValue":l[4]||(l[4]=r=>e(o).max_amount=r),type:"number",step:"0.01",placeholder:e(t)("datatable.max_amount")},null,8,["modelValue","placeholder"])])]),s("div",Ue,[s("div",Be,[e(x)?(b(),B("span",Pe,i(e(_))+" "+i(e(_)===1?e(t)("datatable.filter"):e(t)("datatable.filters"))+" "+i(e(t)("datatable.applied")),1)):C("",!0)]),s("div",Re,[n(e(P),{onClick:e(L),variant:"ghost",size:"sm",disabled:!e(x)||e(m)},{default:p(()=>[y(i(e(t)("datatable.clear_all")),1)]),_:1},8,["onClick","disabled"]),n(re,{onClick:M,size:"sm",variant:"default",loading:e(m)},{default:p(()=>[y(i(e(t)("datatable.filter")),1)]),_:1},8,["loading"])])])])]),_:1},8,["columns","data"]),n(se,{open:e(v),"onUpdate:open":l[5]||(l[5]=r=>ue(v)?v.value=r:null),"item-id":((V=e(N))==null?void 0:V.id)??null,"item-name":(w=e(N))==null?void 0:w.order_number,"route-name":"super-admin.orders.destroy",title:e(t)("datatable.delete_confirmation")},null,8,["open","item-id","item-name","title"]),n(oe,{open:g.value,"onUpdate:open":l[6]||(l[6]=r=>g.value=r),"item-id":((D=f.value)==null?void 0:D.id)??null,"item-name":(k=f.value)==null?void 0:k.order_number,"route-name":"super-admin.orders.change-status","status-options":a.statusOptions,"current-status":(S=f.value)==null?void 0:S.status_raw,title:e(t)("datatable.change_status"),description:e(t)("datatable.change_status_description")},null,8,["open","item-id","item-name","status-options","current-status","title","description"])])]}),_:1}))}});export{xt as default};
