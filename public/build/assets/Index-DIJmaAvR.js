import{c as E,a as G,t as y,h as J,d as K,b as Q,u as X,e as Y,D as Z,_ as ee,f as k}from"./index-BW-UAAHL.js";import{u as B,_ as te}from"./useToast-CtOIdxR-.js";import{_ as T}from"./DashboardButton.vue_vue_type_script_setup_true_lang-jdvaR_3Y.js";import{_ as D}from"./DashboardDatePicker.vue_vue_type_style_index_0_lang-3c7o6w-E.js";import{_ as F}from"./DashboardSelect.vue_vue_type_style_index_1_lang-CJ5jZZRb.js";import{p as P}from"./parsers-DcDh6GPu.js";import{_ as t}from"./index-D-urzs1U.js";import{q as ae,W as R,d as oe,j as se,i as re,k as le,f as $,o as g,w as m,a as c,b as s,u as e,m as ie,t as i,g as h,c as z,e as V,p as de}from"./app-C_9PBI8O.js";import{_ as ne}from"./AdminLayout.vue_vue_type_script_setup_true_lang-zQel-0qJ.js";import{_ as L}from"./index-DmYhWnlU.js";import{c as ce}from"./converters-DLekJskJ.js";import{C as me}from"./copy-DDU0OimM.js";import{S as ue}from"./square-pen-B6P9Gt_h.js";import{T as pe}from"./trash-2-BLGLvqc7.js";import{P as fe}from"./plus-C3KgGLEl.js";import"./Card.vue_vue_type_script_setup_true_lang-CdHN0ZfT.js";import"./createLucideIcon-C0ithsll.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-vhl8EJLP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BxeelRGj.js";import"./Switch.vue_vue_type_script_setup_true_lang-DlH5kZNA.js";import"./index-CKRth63G.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-B3JVcvq7.js";import"./refresh-cw-Dd2PsCct.js";import"./index-XY12mXXh.js";import"./index-BMs6oOoE.js";import"./index-BGfNR6OY.js";import"./index-wI7wi_Ra.js";import"./index-COJUaldu.js";import"./index-Dz822CN2.js";import"./index-DsHA7fuX.js";import"./useGuard-BknsbsIw.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DnC3vUMI.js";function _e(v,l){const{showCopyToClipboardToast:_}=B(),o=ae(!1);return E([G(l.number,{headerClassName:"text-start",startFrom:1}),y("name_en",l.name_en,{sortable:!0,searchable:!0,visible:!0,className:"font-medium font-bold",headerClassName:"text-start px-0",showIf:()=>document.dir==="ltr"}),y("name_ar",l.name_ar,{sortable:!0,searchable:!0,className:"font-arabic text-start",headerClassName:"text-start px-0",showIf:()=>document.dir==="rtl"}),{type:"custom",key:"parent",label:l.parent,sortable:!1,headerClassName:"text-start px-0",render:r=>r.parent?document.dir==="rtl"?r.parent.name_ar:r.parent.name_en:"-"},y("slug",l.slug,{sortable:!0,searchable:!0,className:"text-muted-foreground font-mono text-sm",headerClassName:"text-start px-0"}),J("status",l.active,{headerClassName:"text-start px-6",onToggle:(r,u,p)=>{R.patch(route("super-admin.product-categories.toggle-status",u.id),{status:r},{preserveScroll:!0,preserveState:!0,onStart:()=>{o.value=!0},onFinish:()=>{o.value=!1},onSuccess:x=>{var b;const f=(b=x.props.flash)==null?void 0:b.toast;(f==null?void 0:f.success)===!1&&p.revert()}})},disabled:()=>o.value,toggledWhen:r=>ce(r),size:"sm",className:"flex justify-start"}),K("created_at",l.created,{relative:!0,className:"text-center",headerClassName:"text-center px-0"}),Q([{label:t("datatable.copy_id"),icon:me,onClick:r=>{navigator.clipboard.writeText(r.id.toString()),_(t("datatable.category_id"))}},{separator:!0,label:t("datatable.separator")},{label:t("datatable.edit"),icon:ue,href:r=>route("super-admin.product-categories.edit",r.id)},{separator:!0,label:t("datatable.separator")},{label:t("datatable.delete"),icon:pe,destructive:!0,onClick:r=>{v(r)}}])])}const be={class:"p-4"},ge={class:"mb-6 flex items-center justify-between"},he={class:"text-3xl font-bold"},ve={class:"mt-1 text-muted-foreground"},xe={key:0,class:"flex items-center gap-2"},Ce={class:"space-y-4"},ye={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5"},Ve={class:"space-y-2"},we={class:"text-sm font-medium"},Ne={class:"space-y-2"},Se={class:"text-sm font-medium"},ke={class:"space-y-2"},Te={class:"text-sm font-medium"},De={class:"space-y-2"},Fe={class:"text-sm font-medium"},Pe={class:"flex items-center justify-between border-t pt-4"},$e={class:"text-sm text-muted-foreground"},ze={key:0},Le={class:"flex gap-2"},ft=oe({__name:"Index",props:{categories:{},filters:{},columnLabels:{},allCategories:{}},setup(v){const l=v,_=()=>{const a=l.filters;return{...a,status:(a==null?void 0:a.status)||"",parent_id:(a==null?void 0:a.parent_id)||"",created_from:P(a==null?void 0:a.created_from),created_to:P(a==null?void 0:a.created_to)}},{localFilters:o,isFilteringLoading:r,hasActiveFilters:u,activeFilterCount:p,applyFilters:x,clearFilters:f,updateFilters:b}=X(_(),{routeName:"super-admin.product-categories.index",preserveState:!1,preserveScroll:!0});se(()=>l.filters,a=>{a&&b(_())},{deep:!0});const U=[{name:"Active",code:"active"},{name:"Inactive",code:"inactive"}],j=re(()=>[{id:"root",name:"-- Root Categories --",name_en:"-- Root Categories --",name_ar:"-- الفئات الرئيسية --"},...l.allCategories]),I=()=>{o.value.created_from&&(o.value.created_from=k(o.value.created_from)),o.value.created_to&&(o.value.created_to=k(o.value.created_to)),x()},O={searchable:!0,searchPlaceholder:t("datatable.search_placeholder"),selectable:!0,columnVisibility:!0,perPageSelector:!0,perPageOptions:[10,25,50,100],serverSide:!0,pagination:l.categories,filterable:!0,filters:{...l.filters,direction:l.filters.direction},routeName:"super-admin.product-categories.index"},W=()=>{},{initFlashToasts:M}=B();le(()=>{M()});const q=[{title:t("sidebar.product_categories"),href:route("super-admin.product-categories.index")}],{deleteDialogOpen:C,itemToDelete:w,openDeleteDialog:A}=Y(),H=_e(A,l.columnLabels);return(a,d)=>(g(),$(ne,{breadcrumbs:q},{default:m(()=>{var N,S;return[c(e(ie),{title:e(t)("sidebar.product_categories")},null,8,["title"]),s("div",be,[s("div",ge,[s("div",null,[s("h1",he,i(e(t)("datatable.product_categories.title")),1),s("p",ve,i(e(t)("datatable.product_categories.description")),1)]),c(T,{variant:"default",onClick:d[0]||(d[0]=()=>e(R).get(a.route("super-admin.product-categories.create")))},{default:m(()=>[c(e(fe),{class:"mr-2 h-4 w-4"}),h(" "+i(e(t)("datatable.add"))+" "+i(e(t)("sidebar.product_categories")),1)]),_:1})]),c(Z,{columns:e(H),data:a.categories.data,config:O,onSelectionChange:W},{toolbar:m(({table:n})=>[e(u)?(g(),z("div",xe,[c(e(ee),{value:`${e(p)} ${e(p)===1?e(t)("datatable.filter"):e(t)("datatable.filters")} ${e(t)("datatable.applied")}`,severity:"info"},null,8,["value"])])):V("",!0),n.getFilteredSelectedRowModel().rows.length>0?(g(),$(e(L),{key:1,variant:"destructive",size:"sm"},{default:m(()=>[h(i(e(t)("datatable.delete"))+" ("+i(n.getFilteredSelectedRowModel().rows.length)+") ",1)]),_:2},1024)):V("",!0)]),filters:m(()=>[s("div",Ce,[s("div",ye,[s("div",Ve,[s("label",we,i(e(t)("datatable.columns.status")),1),c(F,{modelValue:e(o).status,"onUpdate:modelValue":d[1]||(d[1]=n=>e(o).status=n),options:U,optionLabel:"name",optionValue:"code",placeholder:e(t)("datatable.all_status"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(t)("datatable.search"),scrollHeight:"200px"},null,8,["modelValue","placeholder","filterPlaceholder"])]),s("div",Ne,[s("label",Se,i(e(t)("datatable.parent_category")),1),c(F,{modelValue:e(o).parent_id,"onUpdate:modelValue":d[2]||(d[2]=n=>e(o).parent_id=n),options:j.value,optionLabel:a.document.dir==="rtl"?"name_ar":"name_en",optionValue:"id",placeholder:e(t)("datatable.all_categories"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(t)("datatable.search"),scrollHeight:"200px"},null,8,["modelValue","options","optionLabel","placeholder","filterPlaceholder"])]),s("div",ke,[s("label",Te,i(e(t)("datatable.created_from")),1),c(D,{modelValue:e(o).created_from,"onUpdate:modelValue":d[3]||(d[3]=n=>e(o).created_from=n),placeholder:e(t)("datatable.select_created_from"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])]),s("div",De,[s("label",Fe,i(e(t)("datatable.created_to")),1),c(D,{modelValue:e(o).created_to,"onUpdate:modelValue":d[4]||(d[4]=n=>e(o).created_to=n),placeholder:e(t)("datatable.select_created_to"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])])]),s("div",Pe,[s("div",$e,[e(u)?(g(),z("span",ze,i(e(p))+" "+i(e(p)===1?e(t)("datatable.filter"):e(t)("datatable.filters"))+" "+i(e(t)("datatable.applied")),1)):V("",!0)]),s("div",Le,[c(e(L),{onClick:e(f),variant:"ghost",size:"sm",disabled:!e(u)||e(r)},{default:m(()=>[h(i(e(t)("datatable.clear_all")),1)]),_:1},8,["onClick","disabled"]),c(T,{onClick:I,size:"sm",variant:"default",loading:e(r)},{default:m(()=>[h(i(e(t)("datatable.filter")),1)]),_:1},8,["loading"])])])])]),_:1},8,["columns","data"]),c(te,{open:e(C),"onUpdate:open":d[5]||(d[5]=n=>de(C)?C.value=n:null),"item-id":((N=e(w))==null?void 0:N.id)??null,"item-name":(S=e(w))==null?void 0:S.name_en,"route-name":"super-admin.product-categories.destroy",title:e(t)("datatable.delete"),description:e(t)("datatable.delete_confirmation_text"),"confirm-button-text":e(t)("datatable.delete_confirmation_button")},null,8,["open","item-id","item-name","title","description","confirm-button-text"])])]}),_:1}))}});export{ft as default};
