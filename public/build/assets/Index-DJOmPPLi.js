import{c as K,a as Q,t as q,g as v,h as X,b as Y,u as Z,e as ee,D as te,_ as ae,f as T}from"./index-BW-UAAHL.js";import{u as I,_ as oe}from"./useToast-CtOIdxR-.js";import{_ as D}from"./DashboardButton.vue_vue_type_script_setup_true_lang-jdvaR_3Y.js";import{_ as z}from"./DashboardDatePicker.vue_vue_type_style_index_0_lang-3c7o6w-E.js";import{_ as b}from"./DashboardSelect.vue_vue_type_style_index_1_lang-CJ5jZZRb.js";import{p as L}from"./parsers-DcDh6GPu.js";import{_ as t}from"./index-D-urzs1U.js";import{q as se,W as B,d as le,n as re,j as ie,k as de,f as P,o as y,w as m,a as d,b as s,u as e,m as ne,t as i,g as x,c as $,e as V,p as ce}from"./app-C_9PBI8O.js";import{_ as me}from"./AdminLayout.vue_vue_type_script_setup_true_lang-zQel-0qJ.js";import{_ as U}from"./index-DmYhWnlU.js";import{c as ue}from"./converters-DLekJskJ.js";import{C as pe}from"./copy-DDU0OimM.js";import{S as _e}from"./square-pen-B6P9Gt_h.js";import{T as fe}from"./trash-2-BLGLvqc7.js";import{P as be}from"./plus-C3KgGLEl.js";import"./Card.vue_vue_type_script_setup_true_lang-CdHN0ZfT.js";import"./createLucideIcon-C0ithsll.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-vhl8EJLP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BxeelRGj.js";import"./Switch.vue_vue_type_script_setup_true_lang-DlH5kZNA.js";import"./index-CKRth63G.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-B3JVcvq7.js";import"./refresh-cw-Dd2PsCct.js";import"./index-XY12mXXh.js";import"./index-BMs6oOoE.js";import"./index-BGfNR6OY.js";import"./index-wI7wi_Ra.js";import"./index-COJUaldu.js";import"./index-Dz822CN2.js";import"./index-DsHA7fuX.js";import"./useGuard-BknsbsIw.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DnC3vUMI.js";function he(C,n){const{showCopyToClipboardToast:c}=I(),u=se(!1);return K([Q(n.number,{headerClassName:"text-start",startFrom:1}),q("name_en",n.name_en,{sortable:!0,searchable:!0,visible:!0,className:"font-medium font-bold",showIf:()=>document.dir==="ltr"}),q("name_ar",n.name_ar,{sortable:!0,searchable:!0,className:"font-arabic text-start",headerClassName:"text-start px-0",showIf:()=>document.dir==="rtl"}),v("category.name_en",n.category,{sortable:!1,className:"text-start",showIf:()=>document.dir==="ltr"}),v("category.name_ar",n.category,{sortable:!1,headerClassName:"text-start px-0",className:"text-start px-0",showIf:()=>document.dir==="rtl"}),v("quality.name_en",n.quality,{sortable:!1,showIf:()=>document.dir==="ltr"}),v("quality.name_ar",n.quality,{sortable:!1,className:"text-start px-0",headerClassName:"text-start px-0",showIf:()=>document.dir==="rtl"}),X("status",n.active,{headerClassName:"text-center px-0",onToggle:(a,h,_)=>{B.patch(route("super-admin.products.toggle-status",h.id),{status:a},{preserveScroll:!0,preserveState:!0,onStart:()=>{u.value=!0},onFinish:()=>{u.value=!1},onSuccess:p=>{var g;const f=(g=p.props.flash)==null?void 0:g.toast;(f==null?void 0:f.success)===!1&&_.revert()}})},disabled:()=>u.value,toggledWhen:a=>ue(a),size:"sm"}),Y([{label:t("datatable.copy_id"),icon:pe,onClick:a=>{navigator.clipboard.writeText(a.id.toString()),c(t("datatable.product_id"))}},{separator:!0,label:t("datatable.separator")},{label:t("datatable.edit"),icon:_e,href:a=>a.has_variants?route("super-admin.products.edit-complex",a.id):route("super-admin.products.edit",a.id)},{separator:!0,label:t("datatable.separator")},{label:t("datatable.delete"),icon:fe,destructive:!0,onClick:a=>{C(a)}}])])}const ge={class:"p-4"},ve={class:"mb-6 flex items-center justify-between"},ye={class:"text-3xl font-bold"},xe={class:"mt-1 text-muted-foreground"},Ce={class:"flex gap-2"},we={key:0,class:"flex items-center gap-2"},Ve={class:"space-y-4"},Ne={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5"},Se={class:"space-y-2"},ke={class:"text-sm font-medium"},qe={class:"space-y-2"},Te={class:"text-sm font-medium"},De={class:"space-y-2"},ze={class:"text-sm font-medium"},Le={class:"space-y-2"},Pe={class:"text-sm font-medium"},$e={class:"space-y-2"},Ue={class:"text-sm font-medium"},Ie={class:"space-y-2"},Be={class:"text-sm font-medium"},Oe={class:"space-y-2"},Fe={class:"text-sm font-medium"},We={class:"flex items-center justify-between border-t pt-4"},je={class:"text-sm text-muted-foreground"},Me={key:0},Re={class:"flex gap-2"},wt=le({__name:"Index",props:{products:{},filters:{},columnLabels:{},categories:{},qualities:{}},setup(C){const n=re(),c=C,u=()=>{const o=c.filters;return{...o,status:(o==null?void 0:o.status)||"",category_id:(o==null?void 0:o.category_id)||null,quality_id:(o==null?void 0:o.quality_id)||null,has_variants:(o==null?void 0:o.has_variants)||"",is_new:(o==null?void 0:o.is_new)||"",created_from:L(o==null?void 0:o.created_from),created_to:L(o==null?void 0:o.created_to)}},{localFilters:a,isFilteringLoading:h,hasActiveFilters:_,activeFilterCount:p,applyFilters:f,clearFilters:g,updateFilters:O}=Z(u(),{routeName:"super-admin.products.index",preserveState:!1,preserveScroll:!0});ie(()=>c.filters,o=>{o&&O(u())},{deep:!0});const F=[{name:t("datatable.active"),code:"active"},{name:t("datatable.inactive"),code:"inactive"}],W=[{name:t("datatable.yes"),code:"yes"},{name:t("datatable.no"),code:"no"}],j=[{name:t("datatable.yes"),code:"yes"},{name:t("datatable.no"),code:"no"}],M=()=>{a.value.created_from&&(a.value.created_from=T(a.value.created_from)),a.value.created_to&&(a.value.created_to=T(a.value.created_to)),f()},R={searchable:!0,searchPlaceholder:t("datatable.search_placeholder"),selectable:!0,columnVisibility:!0,perPageSelector:!0,perPageOptions:[10,25,50,100],serverSide:!0,pagination:c.products,filterable:!0,filters:{...c.filters,direction:c.filters.direction},routeName:"super-admin.products.index"},A=()=>{},{initFlashToasts:E}=I();de(()=>{E()});const G=[{title:t("sidebar.products"),href:route("super-admin.products.index")}],{deleteDialogOpen:w,itemToDelete:N,openDeleteDialog:H}=ee(),J=he(H,c.columnLabels);return(o,l)=>(y(),P(me,{breadcrumbs:G},{default:m(()=>{var S,k;return[d(e(ne),{title:e(t)("sidebar.products")},null,8,["title"]),s("div",ge,[s("div",ve,[s("div",null,[s("h1",ye,i(e(t)("datatable.products.title")),1),s("p",xe,i(e(t)("datatable.products.description")),1)]),s("div",Ce,[d(D,{variant:"outline",onClick:l[0]||(l[0]=()=>e(B).get(o.route("super-admin.products.create-complex")))},{default:m(()=>[d(e(be),{class:"mr-2 h-4 w-4"}),x(" "+i(e(t)("datatable.add_complex_product")),1)]),_:1})])]),d(te,{columns:e(J),data:o.products.data,config:R,onSelectionChange:A},{toolbar:m(({table:r})=>[e(_)?(y(),$("div",we,[d(e(ae),{value:`${e(p)} ${e(p)===1?e(t)("datatable.filter"):e(t)("datatable.filters")} ${e(t)("datatable.applied")}`,severity:"info"},null,8,["value"])])):V("",!0),r.getFilteredSelectedRowModel().rows.length>0?(y(),P(e(U),{key:1,variant:"destructive",size:"sm"},{default:m(()=>[x(i(e(t)("datatable.delete"))+" ("+i(r.getFilteredSelectedRowModel().rows.length)+") ",1)]),_:2},1024)):V("",!0)]),filters:m(()=>[s("div",Ve,[s("div",Ne,[s("div",Se,[s("label",ke,i(e(t)("datatable.status")),1),d(b,{modelValue:e(a).status,"onUpdate:modelValue":l[1]||(l[1]=r=>e(a).status=r),options:F,optionLabel:"name",optionValue:"code",placeholder:e(t)("datatable.all_status"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),s("div",qe,[s("label",Te,i(e(t)("datatable.category")),1),d(b,{modelValue:e(a).category_id,"onUpdate:modelValue":l[2]||(l[2]=r=>e(a).category_id=r),options:o.categories,optionLabel:e(n).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(t)("datatable.all_categories"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(t)("datatable.search")},null,8,["modelValue","options","optionLabel","placeholder","filterPlaceholder"])]),s("div",De,[s("label",ze,i(e(t)("datatable.quality")),1),d(b,{modelValue:e(a).quality_id,"onUpdate:modelValue":l[3]||(l[3]=r=>e(a).quality_id=r),options:o.qualities,optionLabel:e(n).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(t)("datatable.all_qualities"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(t)("datatable.search")},null,8,["modelValue","options","optionLabel","placeholder","filterPlaceholder"])]),s("div",Le,[s("label",Pe,i(e(t)("datatable.has_variants")),1),d(b,{modelValue:e(a).has_variants,"onUpdate:modelValue":l[4]||(l[4]=r=>e(a).has_variants=r),options:W,optionLabel:"name",optionValue:"code",placeholder:e(t)("datatable.all"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),s("div",$e,[s("label",Ue,i(e(t)("datatable.is_new")),1),d(b,{modelValue:e(a).is_new,"onUpdate:modelValue":l[5]||(l[5]=r=>e(a).is_new=r),options:j,optionLabel:"name",optionValue:"code",placeholder:e(t)("datatable.all"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),s("div",Ie,[s("label",Be,i(e(t)("datatable.created_from")),1),d(z,{modelValue:e(a).created_from,"onUpdate:modelValue":l[6]||(l[6]=r=>e(a).created_from=r),placeholder:e(t)("datatable.select_created_from"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])]),s("div",Oe,[s("label",Fe,i(e(t)("datatable.created_to")),1),d(z,{modelValue:e(a).created_to,"onUpdate:modelValue":l[7]||(l[7]=r=>e(a).created_to=r),placeholder:e(t)("datatable.select_created_to"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])])]),s("div",We,[s("div",je,[e(_)?(y(),$("span",Me,i(e(p))+" "+i(e(p)===1?e(t)("datatable.filter"):e(t)("datatable.filters"))+" "+i(e(t)("datatable.applied")),1)):V("",!0)]),s("div",Re,[d(e(U),{onClick:e(g),variant:"ghost",size:"sm",disabled:!e(_)||e(h)},{default:m(()=>[x(i(e(t)("datatable.clear_all")),1)]),_:1},8,["onClick","disabled"]),d(D,{onClick:M,size:"sm",variant:"default",loading:e(h)},{default:m(()=>[x(i(e(t)("datatable.filter")),1)]),_:1},8,["loading"])])])])]),_:1},8,["columns","data"]),d(oe,{open:e(w),"onUpdate:open":l[8]||(l[8]=r=>ce(w)?w.value=r:null),"item-id":((S=e(N))==null?void 0:S.id)??null,"item-name":(k=e(N))==null?void 0:k.name_en,"route-name":"super-admin.products.destroy",title:e(t)("datatable.delete"),description:e(t)("datatable.delete_confirmation_text"),"confirm-button-text":e(t)("datatable.delete_confirmation_button")},null,8,["open","item-id","item-name","title","description","confirm-button-text"])])]}),_:1}))}});export{wt as default};
