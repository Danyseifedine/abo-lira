import{u as B,c as q,a as J,t as y,j as G,d as K,e as Q,C as X,f as Y,g as Z,D as ee,_ as te,h as ae,p as k,i as T}from"./index-DgUhoy5_.js";import{_ as D}from"./DashboardButton.vue_vue_type_script_setup_true_lang-C-hhLf-Z.js";import{_ as F}from"./DashboardDatePicker.vue_vue_type_style_index_0_lang-BFeOofbV.js";import{_ as P}from"./DashboardSelect.vue_vue_type_style_index_1_lang-BqT6lIF9.js";import{_ as t}from"./translations-IjTjbDMc.js";import{A as oe,W as I,d as se,I as re,E as le,J as ie,f as $,o as g,w as m,a as c,b as s,u as e,m as de,t as i,g as h,c as z,e as V,L as ne}from"./app-CIjla966.js";import{_ as ce}from"./AdminLayout.vue_vue_type_script_setup_true_lang-DkHFB_NM.js";import{_ as L}from"./index-DSxYyfE5.js";import{c as me}from"./converters-DLekJskJ.js";import{S as ue}from"./square-pen-DnrBlrYd.js";import{T as pe}from"./trash-2-BYULUSFi.js";import{P as _e}from"./plus-Bah8NaL7.js";import"./createLucideIcon--HQIHVes.js";import"./index-DqlHqtc_.js";import"./Card.vue_vue_type_script_setup_true_lang-BfKtZDtp.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-CngBT6Yk.js";import"./check-CR9pKLNt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DfHjPy5k.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BfKzkuSi.js";import"./Switch.vue_vue_type_script_setup_true_lang-6kia3RUR.js";import"./index-Cy0eEOba.js";import"./index-B5KP2Iuh.js";import"./index-B60aS90j.js";import"./index-Cw7CdYKF.js";import"./index-D9jTEYS9.js";import"./index-CmKYmS6N.js";import"./index-DsUTm9n0.js";import"./index-DLsv0LXD.js";import"./useGuard-CTjAKWFq.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ILcZzubt.js";function fe(v,l){const{showCopyToClipboardToast:f}=B(),o=oe(!1);return q([J(l.number,{headerClassName:"text-start",startFrom:1}),y("name_en",l.name_en,{sortable:!0,searchable:!0,visible:!0,className:"font-medium font-bold",headerClassName:"text-start px-0",showIf:()=>document.dir==="ltr"}),y("name_ar",l.name_ar,{sortable:!0,searchable:!0,className:"font-arabic text-start",headerClassName:"text-start px-0",showIf:()=>document.dir==="rtl"}),{type:"custom",key:"parent",label:l.parent,sortable:!1,headerClassName:"text-start px-0",render:r=>r.parent?document.dir==="rtl"?r.parent.name_ar:r.parent.name_en:"-"},y("slug",l.slug,{sortable:!0,searchable:!0,className:"text-muted-foreground font-mono text-sm",headerClassName:"text-start px-0"}),G("status",l.active,{headerClassName:"text-start px-6",onToggle:(r,u,p)=>{I.patch(route("super-admin.product-categories.toggle-status",u.id),{status:r},{preserveScroll:!0,preserveState:!0,onStart:()=>{o.value=!0},onFinish:()=>{o.value=!1},onSuccess:x=>{var b;const _=(b=x.props.flash)==null?void 0:b.toast;(_==null?void 0:_.success)===!1&&p.revert()}})},disabled:()=>o.value,toggledWhen:r=>me(r),size:"sm",className:"flex justify-start"}),K("created_at",l.created,{relative:!0,className:"text-center",headerClassName:"text-center px-0"}),Q([{label:t("datatable.copy_id"),icon:X,onClick:r=>{navigator.clipboard.writeText(r.id.toString()),f(t("datatable.category_id"))}},{separator:!0,label:t("datatable.separator")},{label:t("datatable.edit"),icon:ue,href:r=>route("super-admin.product-categories.edit",r.id)},{separator:!0,label:t("datatable.separator")},{label:t("datatable.delete"),icon:pe,destructive:!0,onClick:r=>{v(r)}}])])}const be={class:"p-4"},ge={class:"mb-6 flex items-center justify-between"},he={class:"text-3xl font-bold"},ve={class:"mt-1 text-muted-foreground"},xe={key:0,class:"flex items-center gap-2"},Ce={class:"space-y-4"},ye={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5"},Ve={class:"space-y-2"},we={class:"text-sm font-medium"},Ne={class:"space-y-2"},Se={class:"text-sm font-medium"},ke={class:"space-y-2"},Te={class:"text-sm font-medium"},De={class:"space-y-2"},Fe={class:"text-sm font-medium"},Pe={class:"flex items-center justify-between border-t pt-4"},$e={class:"text-sm text-muted-foreground"},ze={key:0},Le={class:"flex gap-2"},ut=se({__name:"Index",props:{categories:{},filters:{},columnLabels:{},allCategories:{}},setup(v){const l=v,f=()=>{const a=l.filters;return{...a,status:(a==null?void 0:a.status)||"",parent_id:(a==null?void 0:a.parent_id)||"",created_from:k(a==null?void 0:a.created_from),created_to:k(a==null?void 0:a.created_to)}},{localFilters:o,isFilteringLoading:r,hasActiveFilters:u,activeFilterCount:p,applyFilters:x,clearFilters:_,updateFilters:b}=Y(f(),{routeName:"super-admin.product-categories.index",preserveState:!1,preserveScroll:!0});re(()=>l.filters,a=>{a&&b(f())},{deep:!0});const R=[{name:"Active",code:"active"},{name:"Inactive",code:"inactive"}],U=le(()=>[{id:"root",name:"-- Root Categories --",name_en:"-- Root Categories --",name_ar:"-- الفئات الرئيسية --"},...l.allCategories]),j=()=>{o.value.created_from&&(o.value.created_from=T(o.value.created_from)),o.value.created_to&&(o.value.created_to=T(o.value.created_to)),x()},O={searchable:!0,searchPlaceholder:t("datatable.search_placeholder"),selectable:!0,columnVisibility:!0,perPageSelector:!0,perPageOptions:[10,25,50,100],serverSide:!0,pagination:l.categories,filterable:!0,filters:{...l.filters,direction:l.filters.direction},routeName:"super-admin.product-categories.index"},W=()=>{},{initFlashToasts:A}=B();ie(()=>{A()});const M=[{title:t("sidebar.product_categories"),href:route("super-admin.product-categories.index")}],{deleteDialogOpen:C,itemToDelete:w,openDeleteDialog:E}=Z(),H=fe(E,l.columnLabels);return(a,d)=>(g(),$(ce,{breadcrumbs:M},{default:m(()=>{var N,S;return[c(e(de),{title:e(t)("sidebar.product_categories")},null,8,["title"]),s("div",be,[s("div",ge,[s("div",null,[s("h1",he,i(e(t)("datatable.product_categories.title")),1),s("p",ve,i(e(t)("datatable.product_categories.description")),1)]),c(D,{variant:"default",onClick:d[0]||(d[0]=()=>e(I).get(a.route("super-admin.product-categories.create")))},{default:m(()=>[c(e(_e),{class:"mr-2 h-4 w-4"}),h(" "+i(e(t)("datatable.add"))+" "+i(e(t)("sidebar.product_categories")),1)]),_:1})]),c(ee,{columns:e(H),data:a.categories.data,config:O,onSelectionChange:W},{toolbar:m(({table:n})=>[e(u)?(g(),z("div",xe,[c(e(te),{value:`${e(p)} ${e(p)===1?e(t)("datatable.filter"):e(t)("datatable.filters")} ${e(t)("datatable.applied")}`,severity:"info"},null,8,["value"])])):V("",!0),n.getFilteredSelectedRowModel().rows.length>0?(g(),$(e(L),{key:1,variant:"destructive",size:"sm"},{default:m(()=>[h(i(e(t)("datatable.delete"))+" ("+i(n.getFilteredSelectedRowModel().rows.length)+") ",1)]),_:2},1024)):V("",!0)]),filters:m(()=>[s("div",Ce,[s("div",ye,[s("div",Ve,[s("label",we,i(e(t)("datatable.columns.status")),1),c(P,{modelValue:e(o).status,"onUpdate:modelValue":d[1]||(d[1]=n=>e(o).status=n),options:R,optionLabel:"name",optionValue:"code",placeholder:e(t)("datatable.all_status"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(t)("datatable.search"),scrollHeight:"200px"},null,8,["modelValue","placeholder","filterPlaceholder"])]),s("div",Ne,[s("label",Se,i(e(t)("datatable.parent_category")),1),c(P,{modelValue:e(o).parent_id,"onUpdate:modelValue":d[2]||(d[2]=n=>e(o).parent_id=n),options:U.value,optionLabel:a.document.dir==="rtl"?"name_ar":"name_en",optionValue:"id",placeholder:e(t)("datatable.all_categories"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(t)("datatable.search"),scrollHeight:"200px"},null,8,["modelValue","options","optionLabel","placeholder","filterPlaceholder"])]),s("div",ke,[s("label",Te,i(e(t)("datatable.created_from")),1),c(F,{modelValue:e(o).created_from,"onUpdate:modelValue":d[3]||(d[3]=n=>e(o).created_from=n),placeholder:e(t)("datatable.select_created_from"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])]),s("div",De,[s("label",Fe,i(e(t)("datatable.created_to")),1),c(F,{modelValue:e(o).created_to,"onUpdate:modelValue":d[4]||(d[4]=n=>e(o).created_to=n),placeholder:e(t)("datatable.select_created_to"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])])]),s("div",Pe,[s("div",$e,[e(u)?(g(),z("span",ze,i(e(p))+" "+i(e(p)===1?e(t)("datatable.filter"):e(t)("datatable.filters"))+" "+i(e(t)("datatable.applied")),1)):V("",!0)]),s("div",Le,[c(e(L),{onClick:e(_),variant:"ghost",size:"sm",disabled:!e(u)||e(r)},{default:m(()=>[h(i(e(t)("datatable.clear_all")),1)]),_:1},8,["onClick","disabled"]),c(D,{onClick:j,size:"sm",variant:"default",loading:e(r)},{default:m(()=>[h(i(e(t)("datatable.filter")),1)]),_:1},8,["loading"])])])])]),_:1},8,["columns","data"]),c(ae,{open:e(C),"onUpdate:open":d[5]||(d[5]=n=>ne(C)?C.value=n:null),"item-id":((N=e(w))==null?void 0:N.id)??null,"item-name":(S=e(w))==null?void 0:S.name_en,"route-name":"super-admin.product-categories.destroy",title:e(t)("datatable.delete"),description:e(t)("datatable.delete_confirmation_text"),"confirm-button-text":e(t)("datatable.delete_confirmation_button")},null,8,["open","item-id","item-name","title","description","confirm-button-text"])])]}),_:1}))}});export{ut as default};
