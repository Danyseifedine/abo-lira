import{u as W,c as Y,a as Z,t as S,b as x,j as D,e as ee,C as te,f as ae,g as se,D as oe,_ as le,h as re,p as L,i as P}from"./index-BWHK2m3B.js";import{_ as N}from"./DashboardButton.vue_vue_type_script_setup_true_lang-DSVNMhNj.js";import{_ as $}from"./DashboardDatePicker.vue_vue_type_style_index_0_lang-CdFRDkuI.js";import{_ as g}from"./DashboardSelect.vue_vue_type_style_index_1_lang-DauKevqZ.js";import{_ as t}from"./translations-Bf4CTFmE.js";import{A as ie,W as w,d as de,n as ne,I as ce,J as me,f as I,o as y,w as _,a as d,b as o,u as e,m as ue,t as i,g as v,c as U,e as T,L as pe}from"./app-xSx-Cv5H.js";import{_ as _e}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BEdI-VcN.js";import{_ as B}from"./index-3jGOzvg1.js";import{c as F}from"./converters-DLekJskJ.js";import{S as fe}from"./square-pen-CunerJfc.js";import{T as be}from"./trash-2-B6kVlGSx.js";import{P as O}from"./plus-BGPzo8C6.js";import"./createLucideIcon-BM-4PpqC.js";import"./index-BjPRC8qZ.js";import"./Card.vue_vue_type_script_setup_true_lang-CGo_KxuY.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-xc3BVS_i.js";import"./check-BAB_esrP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Da0c7D6j.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BXNUOdY4.js";import"./Switch.vue_vue_type_script_setup_true_lang-CjLlkF7o.js";import"./index-oXQMHMIS.js";import"./index-wXdxWQ6R.js";import"./index-28AXQx6O.js";import"./index-tLgDD26M.js";import"./index-CvFP9PVe.js";import"./index-BB26JwrV.js";import"./index-BEuM8Nmh.js";import"./index-CINCSd7u.js";import"./useGuard-DxxW3IZ4.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CCYx3H7z.js";function he(C,n){const{showCopyToClipboardToast:u}=W(),c=ie(!1);return Y([Z(n.number,{headerClassName:"text-start",startFrom:1}),S("name_en",n.name_en,{sortable:!0,searchable:!0,visible:!0,className:"font-medium font-bold",showIf:()=>document.dir==="ltr"}),S("name_ar",n.name_ar,{sortable:!0,searchable:!0,className:"font-arabic text-start",headerClassName:"text-start px-0",showIf:()=>document.dir==="rtl"}),x("category.name_en",n.category,{sortable:!1,className:"text-start",showIf:()=>document.dir==="ltr"}),x("category.name_ar",n.category,{sortable:!1,headerClassName:"text-start px-0",className:"text-start px-0",showIf:()=>document.dir==="rtl"}),x("quality.name_en",n.quality,{sortable:!1,showIf:()=>document.dir==="ltr"}),x("quality.name_ar",n.quality,{sortable:!1,className:"text-start px-0",headerClassName:"text-start px-0",showIf:()=>document.dir==="rtl"}),S("price",n.price,{sortable:!0,className:"font-medium text-start px-2",headerClassName:"text-start px-0",format:a=>a?a.toString():"_"}),D("status",n.active,{headerClassName:"text-center px-0",onToggle:(a,h,f)=>{w.patch(route("super-admin.products.toggle-status",h.id),{status:a},{preserveScroll:!0,preserveState:!0,onStart:()=>{c.value=!0},onFinish:()=>{c.value=!1},onSuccess:p=>{var b;const m=(b=p.props.flash)==null?void 0:b.toast;(m==null?void 0:m.success)===!1&&f.revert()}})},disabled:()=>c.value,toggledWhen:a=>F(a),size:"sm"}),D("is_new",n.is_new,{headerClassName:"text-center px-0",onToggle:(a,h,f)=>{w.patch(route("super-admin.products.toggle-is-new",h.id),{is_new:a},{preserveScroll:!0,preserveState:!0,onStart:()=>{c.value=!0},onFinish:()=>{c.value=!1},onSuccess:p=>{var b;const m=(b=p.props.flash)==null?void 0:b.toast;(m==null?void 0:m.success)===!1&&f.revert()}})},disabled:()=>c.value,toggledWhen:a=>F(a),size:"sm"}),ee([{label:t("datatable.copy_id"),icon:te,onClick:a=>{navigator.clipboard.writeText(a.id.toString()),u(t("datatable.product_id"))}},{separator:!0,label:t("datatable.separator")},{label:t("datatable.edit"),icon:fe,href:a=>a.has_variants?route("super-admin.products.edit-complex",a.id):route("super-admin.products.edit",a.id)},{separator:!0,label:t("datatable.separator")},{label:t("datatable.delete"),icon:be,destructive:!0,onClick:a=>{C(a)}}])])}const ge={class:"p-4"},ve={class:"mb-6 flex items-center justify-between"},xe={class:"text-3xl font-bold"},ye={class:"mt-1 text-muted-foreground"},we={class:"flex gap-2"},Ce={key:0,class:"flex items-center gap-2"},Ve={class:"space-y-4"},Se={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5"},Ne={class:"space-y-2"},Te={class:"text-sm font-medium"},ke={class:"space-y-2"},qe={class:"text-sm font-medium"},ze={class:"space-y-2"},De={class:"text-sm font-medium"},Le={class:"space-y-2"},Pe={class:"text-sm font-medium"},$e={class:"space-y-2"},Ie={class:"text-sm font-medium"},Ue={class:"space-y-2"},Be={class:"text-sm font-medium"},Fe={class:"space-y-2"},Oe={class:"text-sm font-medium"},We={class:"flex items-center justify-between border-t pt-4"},je={class:"text-sm text-muted-foreground"},Me={key:0},Re={class:"flex gap-2"},yt=de({__name:"Index",props:{products:{},filters:{},columnLabels:{},categories:{},qualities:{}},setup(C){const n=ne(),u=C,c=()=>{const s=u.filters;return{...s,status:(s==null?void 0:s.status)||"",category_id:(s==null?void 0:s.category_id)||null,quality_id:(s==null?void 0:s.quality_id)||null,has_variants:(s==null?void 0:s.has_variants)||"",is_new:(s==null?void 0:s.is_new)||"",created_from:L(s==null?void 0:s.created_from),created_to:L(s==null?void 0:s.created_to)}},{localFilters:a,isFilteringLoading:h,hasActiveFilters:f,activeFilterCount:p,applyFilters:m,clearFilters:b,updateFilters:j}=ae(c(),{routeName:"super-admin.products.index",preserveState:!1,preserveScroll:!0});ce(()=>u.filters,s=>{s&&j(c())},{deep:!0});const M=[{name:t("datatable.active"),code:"active"},{name:t("datatable.inactive"),code:"inactive"}],R=[{name:t("datatable.yes"),code:"yes"},{name:t("datatable.no"),code:"no"}],A=[{name:t("datatable.yes"),code:"yes"},{name:t("datatable.no"),code:"no"}],E=()=>{a.value.created_from&&(a.value.created_from=P(a.value.created_from)),a.value.created_to&&(a.value.created_to=P(a.value.created_to)),m()},J={searchable:!0,searchPlaceholder:t("datatable.search_placeholder"),selectable:!0,columnVisibility:!0,perPageSelector:!0,perPageOptions:[10,25,50,100],serverSide:!0,pagination:u.products,filterable:!0,filters:{...u.filters,direction:u.filters.direction},routeName:"super-admin.products.index"},G=()=>{},{initFlashToasts:H}=W();me(()=>{H()});const K=[{title:t("sidebar.products"),href:route("super-admin.products.index")}],{deleteDialogOpen:V,itemToDelete:k,openDeleteDialog:Q}=se(),X=he(Q,u.columnLabels);return(s,l)=>(y(),I(_e,{breadcrumbs:K},{default:_(()=>{var q,z;return[d(e(ue),{title:e(t)("sidebar.products")},null,8,["title"]),o("div",ge,[o("div",ve,[o("div",null,[o("h1",xe,i(e(t)("datatable.products.title")),1),o("p",ye,i(e(t)("datatable.products.description")),1)]),o("div",we,[d(N,{variant:"default",onClick:l[0]||(l[0]=()=>e(w).get(s.route("super-admin.products.create")))},{default:_(()=>[d(e(O),{class:"mr-2 h-4 w-4"}),v(" "+i(e(t)("datatable.add_simple_product")),1)]),_:1}),d(N,{variant:"outline",onClick:l[1]||(l[1]=()=>e(w).get(s.route("super-admin.products.create-complex")))},{default:_(()=>[d(e(O),{class:"mr-2 h-4 w-4"}),v(" "+i(e(t)("datatable.add_complex_product")),1)]),_:1})])]),d(oe,{columns:e(X),data:s.products.data,config:J,onSelectionChange:G},{toolbar:_(({table:r})=>[e(f)?(y(),U("div",Ce,[d(e(le),{value:`${e(p)} ${e(p)===1?e(t)("datatable.filter"):e(t)("datatable.filters")} ${e(t)("datatable.applied")}`,severity:"info"},null,8,["value"])])):T("",!0),r.getFilteredSelectedRowModel().rows.length>0?(y(),I(e(B),{key:1,variant:"destructive",size:"sm"},{default:_(()=>[v(i(e(t)("datatable.delete"))+" ("+i(r.getFilteredSelectedRowModel().rows.length)+") ",1)]),_:2},1024)):T("",!0)]),filters:_(()=>[o("div",Ve,[o("div",Se,[o("div",Ne,[o("label",Te,i(e(t)("datatable.status")),1),d(g,{modelValue:e(a).status,"onUpdate:modelValue":l[2]||(l[2]=r=>e(a).status=r),options:M,optionLabel:"name",optionValue:"code",placeholder:e(t)("datatable.all_status"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),o("div",ke,[o("label",qe,i(e(t)("datatable.category")),1),d(g,{modelValue:e(a).category_id,"onUpdate:modelValue":l[3]||(l[3]=r=>e(a).category_id=r),options:s.categories,optionLabel:e(n).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(t)("datatable.all_categories"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(t)("datatable.search")},null,8,["modelValue","options","optionLabel","placeholder","filterPlaceholder"])]),o("div",ze,[o("label",De,i(e(t)("datatable.quality")),1),d(g,{modelValue:e(a).quality_id,"onUpdate:modelValue":l[4]||(l[4]=r=>e(a).quality_id=r),options:s.qualities,optionLabel:e(n).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(t)("datatable.all_qualities"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(t)("datatable.search")},null,8,["modelValue","options","optionLabel","placeholder","filterPlaceholder"])]),o("div",Le,[o("label",Pe,i(e(t)("datatable.has_variants")),1),d(g,{modelValue:e(a).has_variants,"onUpdate:modelValue":l[5]||(l[5]=r=>e(a).has_variants=r),options:R,optionLabel:"name",optionValue:"code",placeholder:e(t)("datatable.all"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),o("div",$e,[o("label",Ie,i(e(t)("datatable.is_new")),1),d(g,{modelValue:e(a).is_new,"onUpdate:modelValue":l[6]||(l[6]=r=>e(a).is_new=r),options:A,optionLabel:"name",optionValue:"code",placeholder:e(t)("datatable.all"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),o("div",Ue,[o("label",Be,i(e(t)("datatable.created_from")),1),d($,{modelValue:e(a).created_from,"onUpdate:modelValue":l[7]||(l[7]=r=>e(a).created_from=r),placeholder:e(t)("datatable.select_created_from"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])]),o("div",Fe,[o("label",Oe,i(e(t)("datatable.created_to")),1),d($,{modelValue:e(a).created_to,"onUpdate:modelValue":l[8]||(l[8]=r=>e(a).created_to=r),placeholder:e(t)("datatable.select_created_to"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])])]),o("div",We,[o("div",je,[e(f)?(y(),U("span",Me,i(e(p))+" "+i(e(p)===1?e(t)("datatable.filter"):e(t)("datatable.filters"))+" "+i(e(t)("datatable.applied")),1)):T("",!0)]),o("div",Re,[d(e(B),{onClick:e(b),variant:"ghost",size:"sm",disabled:!e(f)||e(h)},{default:_(()=>[v(i(e(t)("datatable.clear_all")),1)]),_:1},8,["onClick","disabled"]),d(N,{onClick:E,size:"sm",variant:"default",loading:e(h)},{default:_(()=>[v(i(e(t)("datatable.filter")),1)]),_:1},8,["loading"])])])])]),_:1},8,["columns","data"]),d(re,{open:e(V),"onUpdate:open":l[9]||(l[9]=r=>pe(V)?V.value=r:null),"item-id":((q=e(k))==null?void 0:q.id)??null,"item-name":(z=e(k))==null?void 0:z.name_en,"route-name":"super-admin.products.destroy",title:e(t)("datatable.delete"),description:e(t)("datatable.delete_confirmation_text"),"confirm-button-text":e(t)("datatable.delete_confirmation_button")},null,8,["open","item-id","item-name","title","description","confirm-button-text"])])]}),_:1}))}});export{yt as default};
