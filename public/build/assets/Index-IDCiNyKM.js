import{u as k,c as O,a as j,t as E,b as H,d as J,e as W,C as q,f as G,g as K,D as Q,_ as X,h as Y,p as x,i as w}from"./index-BtCgJimQ.js";import{_ as Z}from"./DashboardButton.vue_vue_type_script_setup_true_lang-B6vg4quX.js";import{_ as D}from"./DashboardDatePicker.vue_vue_type_style_index_0_lang-B6mpaNTj.js";import{_ as ee}from"./DashboardSelect.vue_vue_type_style_index_1_lang-D2lPn1wu.js";import{d as te,I as se,J as oe,f as S,o as p,w as m,a as l,b as o,u as e,m as ie,c as V,e as _,t as g,g as v,L as ae}from"./app-CsOsdTpk.js";import{_ as le}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CBuzThRj.js";import{_ as F}from"./index-UhSGV5ef.js";import{T as re}from"./trash-2-BfCXLgx1.js";import"./createLucideIcon-D1cr94u5.js";import"./index-CO75gwlC.js";import"./translations-Cg1GGTmx.js";import"./Card.vue_vue_type_script_setup_true_lang-dZtsCh65.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-K9aDnRB_.js";import"./check-D7QgyxJA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-BqfkYoAZ.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-DKMFp9Wo.js";import"./Switch.vue_vue_type_script_setup_true_lang-DiyXqD6F.js";import"./index-BK5wc6PS.js";import"./index-DrsiisV1.js";import"./index-DOUa6doz.js";import"./index-eV-ScN6P.js";import"./index-CPzwO1xH.js";import"./index-DSMb5v7b.js";import"./index-eaVNm64J.js";import"./index-Cy7ZOitf.js";import"./useGuard-rOd4uzq9.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C7Iu98zV.js";function ne(c){const{showCopyToClipboardToast:r}=k();return O([j("#",{startFrom:1}),E("name","Permission",{sortable:!0,searchable:!0,visible:!0,className:"font-medium font-bold"}),H("roles","Roles"),J("created_at","Created",{relative:!0}),W([{label:"Copy ID",icon:q,onClick:n=>{navigator.clipboard.writeText(n.id.toString()),r("Permission ID")}},{separator:!0,label:"Separator"},{label:"Delete",icon:re,destructive:!0,onClick:n=>{c(n)}}])])}const me={class:"p-4"},de={key:0,class:"flex items-center gap-2"},pe={class:"space-y-4"},ce={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},ue={class:"space-y-2"},fe={class:"space-y-2"},_e={class:"space-y-2"},ge={class:"flex items-center justify-between border-t pt-4"},ve={class:"text-sm text-muted-foreground"},be={key:0},Ce={class:"flex gap-2"},Ge=te({__name:"Index",props:{permissions:{},filters:{},roles:{}},setup(c){const r=c,n=()=>{const s=r.filters;return{...s,role:s!=null&&s.role?Number(s.role):null,created_from:x(s==null?void 0:s.created_from),created_to:x(s==null?void 0:s.created_to)}},{localFilters:i,isFilteringLoading:b,hasActiveFilters:u,activeFilterCount:d,applyFilters:T,clearFilters:P,updateFilters:$}=G(n(),{routeName:"super-admin.permissions.index",preserveState:!1,preserveScroll:!0});se(()=>r.filters,s=>{s&&$(n())},{deep:!0});const N=r.roles.map(s=>({name:s.name,id:s.id})),R=()=>{i.value.created_from&&(i.value.created_from=w(i.value.created_from)),i.value.created_to&&(i.value.created_to=w(i.value.created_to)),T()},z={searchable:!0,searchPlaceholder:"Search permissions by name...",selectable:!0,columnVisibility:!0,perPageSelector:!0,perPageOptions:[10,25,50,100],serverSide:!0,pagination:r.permissions,filterable:!0,filters:{...r.filters,direction:r.filters.direction},routeName:"super-admin.permissions.index"},B=()=>{},{initFlashToasts:I}=k();oe(()=>{I()});const U=()=>{},A=[{title:"Permissions",href:route("super-admin.permissions.index")}],{deleteDialogOpen:f,itemToDelete:C,openDeleteDialog:L}=K(),M=ne(L);return(s,t)=>(p(),S(le,{breadcrumbs:A},{default:m(()=>{var y,h;return[l(e(ie),{title:"Permissions"}),o("div",me,[t[9]||(t[9]=o("div",{class:"mb-6 flex items-center justify-between"},[o("div",null,[o("h1",{class:"text-3xl font-bold"},"Permissions"),o("p",{class:"mt-1 text-muted-foreground"},"View all system permissions and their assigned roles")])],-1)),l(Q,{columns:e(M),data:s.permissions.data,config:z,onSelectionChange:B,onRowClick:U},{toolbar:m(({table:a})=>[e(u)?(p(),V("div",de,[l(e(X),{value:`${e(d)} ${e(d)===1?"filter":"filters"} active`,severity:"info"},null,8,["value"])])):_("",!0),a.getFilteredSelectedRowModel().rows.length>0?(p(),S(e(F),{key:1,variant:"secondary",size:"sm"},{default:m(()=>[v(" Selected ("+g(a.getFilteredSelectedRowModel().rows.length)+") ",1)]),_:2},1024)):_("",!0)]),filters:m(()=>[o("div",pe,[o("div",ce,[o("div",ue,[t[4]||(t[4]=o("label",{class:"text-sm font-medium"},"Filter by Role",-1)),l(ee,{modelValue:e(i).role,"onUpdate:modelValue":t[0]||(t[0]=a=>e(i).role=a),options:e(N),optionLabel:"name",optionValue:"id",placeholder:"All Roles",class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:"Search...",scrollHeight:"100px"},null,8,["modelValue","options"])]),o("div",fe,[t[5]||(t[5]=o("label",{class:"text-sm font-medium"},"Created From",-1)),l(D,{modelValue:e(i).created_from,"onUpdate:modelValue":t[1]||(t[1]=a=>e(i).created_from=a),placeholder:"Select Created From",size:"small","icon-display":"input"},null,8,["modelValue"])]),o("div",_e,[t[6]||(t[6]=o("label",{class:"text-sm font-medium"},"Created To",-1)),l(D,{modelValue:e(i).created_to,"onUpdate:modelValue":t[2]||(t[2]=a=>e(i).created_to=a),placeholder:"Select Created To",size:"small","icon-display":"input"},null,8,["modelValue"])])]),o("div",ge,[o("div",ve,[e(u)?(p(),V("span",be,g(e(d))+" "+g(e(d)===1?"filter":"filters")+" applied ",1)):_("",!0)]),o("div",Ce,[l(e(F),{onClick:e(P),variant:"ghost",size:"sm",disabled:!e(u)||e(b)},{default:m(()=>[...t[7]||(t[7]=[v(" Clear All ",-1)])]),_:1},8,["onClick","disabled"]),l(Z,{onClick:R,size:"sm",variant:"default",loading:e(b)},{default:m(()=>[...t[8]||(t[8]=[v("Filter",-1)])]),_:1},8,["loading"])])])])]),_:1},8,["columns","data"]),l(Y,{open:e(f),"onUpdate:open":t[3]||(t[3]=a=>ae(f)?f.value=a:null),"item-id":((y=e(C))==null?void 0:y.id)??null,"item-name":(h=e(C))==null?void 0:h.name,"route-name":"super-admin.permissions.destroy",title:"Delete Permission"},null,8,["open","item-id","item-name"])])]}),_:1}))}});export{Ge as default};
