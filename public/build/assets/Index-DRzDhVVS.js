import{u as V,c as j,a as L,t as O,b as q,d as J,e as G,C as H,f as K,g as Q,D as X,_ as Y,h as Z,p as x,i as w}from"./index-B17_X9BL.js";import{_ as D}from"./DashboardButton.vue_vue_type_script_setup_true_lang-DSwy_GzT.js";import{_ as S}from"./DashboardDatePicker.vue_vue_type_style_index_0_lang-BIFYaR6m.js";import{d as ee,I as te,J as oe,f as F,o as u,w as d,a as l,b as s,u as e,m as se,W as k,g as c,c as T,e as g,t as v,L as ae}from"./app-BhBziGTL.js";import{_ as re}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CA66TNPH.js";import{_ as R}from"./index-DqoYVAWA.js";import{E as le}from"./eye-BTg3OsnF.js";import{S as ie}from"./square-pen-DjvIaqhZ.js";import{T as ne}from"./trash-2-BalvulRX.js";import{P as de}from"./plus-wS9NWTUX.js";import"./createLucideIcon-2Wjojt7r.js";import"./index-DkOJ7IcR.js";import"./translations-Bp9uk9Mv.js";import"./Card.vue_vue_type_script_setup_true_lang-Du5ZPAwW.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-C8kEVA--.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DnxfpKKt.js";import"./Switch.vue_vue_type_script_setup_true_lang-DTo6_bI3.js";import"./index-BOpYm4XF.js";import"./index-CgELsMhX.js";import"./index-CM6GdcR6.js";import"./index-D2agXNta.js";import"./index-BiFlb9Yf.js";import"./index-DWPXAr61.js";import"./useGuard-3UPC_rEo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BP2b5BWR.js";function me(p){const{showCopyToClipboardToast:n}=V();return j([L("#",{startFrom:1}),O("name","Name",{sortable:!0,searchable:!0,visible:!0,className:"font-medium font-bold w-[120px]"}),q("permissions","Permissions"),J("created_at","Created",{relative:!0}),G([{label:"Copy ID",icon:H,onClick:a=>{navigator.clipboard.writeText(a.id.toString()),n("Role ID")}},{separator:!0,label:"Separator"},{label:"View",icon:le,href:a=>route("super-admin.roles.show",a.id)},{label:"Edit",icon:ie,href:a=>route("super-admin.roles.edit",a.id)},{separator:!0,label:"Separator"},{label:"Delete",icon:ne,destructive:!0,onClick:a=>{p(a)}}])])}const ue={class:"p-4"},ce={class:"mb-6 flex items-center justify-between"},pe={key:0,class:"flex items-center gap-2"},fe={class:"space-y-4"},_e={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ge={class:"space-y-2"},ve={class:"space-y-2"},Ce={class:"flex items-center justify-between border-t pt-4"},be={class:"text-sm text-muted-foreground"},he={key:0},ye={class:"flex gap-2"},He=ee({__name:"Index",props:{roles:{},filters:{}},setup(p){const n=p,a=()=>{const o=n.filters;return{...o,created_from:x(o==null?void 0:o.created_from),created_to:x(o==null?void 0:o.created_to)}},{localFilters:r,isFilteringLoading:C,hasActiveFilters:f,activeFilterCount:m,applyFilters:N,clearFilters:$,updateFilters:P}=K(a(),{routeName:"super-admin.roles.index",preserveState:!1,preserveScroll:!0});te(()=>n.filters,o=>{o&&P(a())},{deep:!0});const z=()=>{r.value.created_from&&(r.value.created_from=w(r.value.created_from)),r.value.created_to&&(r.value.created_to=w(r.value.created_to)),N()},B={searchable:!0,searchPlaceholder:"Search roles by name...",selectable:!0,columnVisibility:!0,perPageSelector:!0,perPageOptions:[10,25,50,100],serverSide:!0,pagination:n.roles,filterable:!0,filters:{...n.filters,direction:n.filters.direction},routeName:"super-admin.roles.index"},E=o=>{console.log("Selected:",o)},{initFlashToasts:I}=V();oe(()=>{I()});const M=o=>{k.get(route("super-admin.roles.show",o))},A=[{title:"Roles",href:route("super-admin.roles.index")}],{deleteDialogOpen:_,itemToDelete:b,openDeleteDialog:U}=Q(),W=me(U);return(o,t)=>(u(),F(re,{breadcrumbs:A},{default:d(()=>{var h,y;return[l(e(se),{title:"Roles"}),s("div",ue,[s("div",ce,[t[5]||(t[5]=s("div",null,[s("h1",{class:"text-3xl font-bold"},"Roles"),s("p",{class:"mt-1 text-muted-foreground"},"Manage system roles and their permissions")],-1)),l(D,{variant:"default",onClick:t[0]||(t[0]=()=>e(k).get(o.route("super-admin.roles.create")))},{default:d(()=>[l(e(de),{class:"mr-2 h-4 w-4"}),t[4]||(t[4]=c(" Add Role ",-1))]),_:1})]),l(X,{columns:e(W),data:o.roles.data,config:B,onSelectionChange:E,onRowClick:M},{toolbar:d(({table:i})=>[e(f)?(u(),T("div",pe,[l(e(Y),{value:`${e(m)} ${e(m)===1?"filter":"filters"} active`,severity:"info"},null,8,["value"])])):g("",!0),i.getFilteredSelectedRowModel().rows.length>0?(u(),F(e(R),{key:1,variant:"destructive",size:"sm"},{default:d(()=>[c(" Delete ("+v(i.getFilteredSelectedRowModel().rows.length)+") ",1)]),_:2},1024)):g("",!0)]),filters:d(()=>[s("div",fe,[s("div",_e,[s("div",ge,[t[6]||(t[6]=s("label",{class:"text-sm font-medium"},"Created From",-1)),l(S,{modelValue:e(r).created_from,"onUpdate:modelValue":t[1]||(t[1]=i=>e(r).created_from=i),placeholder:"Select Created From",size:"small","icon-display":"input"},null,8,["modelValue"])]),s("div",ve,[t[7]||(t[7]=s("label",{class:"text-sm font-medium"},"Created To",-1)),l(S,{modelValue:e(r).created_to,"onUpdate:modelValue":t[2]||(t[2]=i=>e(r).created_to=i),placeholder:"Select Created To",size:"small","icon-display":"input"},null,8,["modelValue"])])]),s("div",Ce,[s("div",be,[e(f)?(u(),T("span",he,v(e(m))+" "+v(e(m)===1?"filter":"filters")+" applied ",1)):g("",!0)]),s("div",ye,[l(e(R),{onClick:e($),variant:"ghost",size:"sm",disabled:!e(f)||e(C)},{default:d(()=>[...t[8]||(t[8]=[c(" Clear All ",-1)])]),_:1},8,["onClick","disabled"]),l(D,{onClick:z,size:"sm",variant:"default",loading:e(C)},{default:d(()=>[...t[9]||(t[9]=[c("Filter",-1)])]),_:1},8,["loading"])])])])]),_:1},8,["columns","data"]),l(Z,{open:e(_),"onUpdate:open":t[3]||(t[3]=i=>ae(_)?_.value=i:null),"item-id":((h=e(b))==null?void 0:h.id)??null,"item-name":(y=e(b))==null?void 0:y.name,"route-name":"super-admin.roles.destroy",title:"Delete Role"},null,8,["open","item-id","item-name"])])]}),_:1}))}});export{He as default};
