import{u as W,_ as Y}from"./useToast-CtOIdxR-.js";import{_ as Z}from"./datatableStatusChangeDialog.vue_vue_type_script_setup_true_lang-D2foHsAL.js";import{_ as S}from"./DashboardButton.vue_vue_type_script_setup_true_lang-jdvaR_3Y.js";import{a as ee,u as te}from"./formatters-locale-D0ABntwo.js";import{_ as d}from"./index-D-urzs1U.js";import{d as se,i as T,q as z,f as $,o as c,w as n,a as s,b as t,u as e,m as ae,g as i,t as a,G as I,J as j,c as u,e as f,F as B,s as F,v as oe}from"./app-C_9PBI8O.js";import{c as L,d as re,e as U,h as ne,_ as de}from"./AdminLayout.vue_vue_type_script_setup_true_lang-zQel-0qJ.js";import{_ as y}from"./index-CKRth63G.js";import{_ as p}from"./Card.vue_vue_type_script_setup_true_lang-CdHN0ZfT.js";import{_ as h,a as g,b as v}from"./CardTitle.vue_vue_type_script_setup_true_lang-esYFe75b.js";import{_ as O}from"./CardDescription.vue_vue_type_script_setup_true_lang-DbYFRlMA.js";import{_ as D}from"./Separator.vue_vue_type_script_setup_true_lang-B6Uod15-.js";import{P as V}from"./package-BKQBn8DM.js";import{S as le}from"./square-pen-B6P9Gt_h.js";import{T as ie}from"./trash-2-BLGLvqc7.js";import{c as M}from"./createLucideIcon-C0ithsll.js";import{D as ce,C as ue,T as me}from"./truck-oaARo0c5.js";import{P as _e}from"./phone-VHYSY8iQ.js";import{C as fe}from"./calendar-C8O7g4Xi.js";import{a as H,C as pe}from"./clock-BFR5t-GK.js";import"./index-DmYhWnlU.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-B3JVcvq7.js";import"./refresh-cw-Dd2PsCct.js";import"./useGuard-BknsbsIw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DnC3vUMI.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=M("HistoryIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=M("MapPinIcon",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=M("RefreshCcwIcon",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),be={class:"space-y-6 p-4"},xe={class:"flex items-start justify-between"},ye={class:"flex items-center gap-3 text-3xl font-bold"},we={class:"mt-1 text-muted-foreground"},ke={class:"flex gap-2"},Ce={class:"flex items-center gap-2"},$e={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},je={class:"space-y-6 lg:col-span-2"},De={class:"space-y-4"},Me={class:"min-w-0 flex-1"},Pe={class:"truncate text-base font-semibold"},qe={class:"mt-1 text-sm text-muted-foreground"},Ne={key:0,class:"mt-2 flex items-center gap-3"},Se={key:0,class:"flex items-center gap-2"},Te={class:"text-sm text-muted-foreground"},ze={class:"flex items-center gap-1"},Ie={class:"text-sm"},Be={key:1,class:"flex items-center gap-2"},Fe={class:"text-sm text-muted-foreground"},Le={class:"mt-2 flex items-center gap-4"},Ue={class:"text-sm text-muted-foreground"},Oe={class:"text-sm text-muted-foreground"},Ve={class:"text-right"},He={class:"text-lg font-semibold"},Re={key:0,class:"py-8 text-center text-muted-foreground"},Ae={key:0,class:"space-y-4"},Ee={class:"flex flex-col items-center"},Ge={key:0,class:"mt-2 h-12 w-0.5 bg-border"},Je={class:"flex-1 pb-4"},Xe={class:"flex items-center justify-between"},Ke={class:"text-sm text-muted-foreground"},Qe={key:1,class:"py-8 text-center text-muted-foreground"},We={class:"space-y-6"},Ye={class:"flex items-center justify-between"},Ze={class:"text-muted-foreground"},et={class:"font-medium"},tt={class:"flex items-center justify-between"},st={class:"text-lg font-semibold"},at={class:"text-xl font-bold"},ot={class:"flex items-center gap-3"},rt={class:"font-semibold"},nt={class:"space-y-3"},dt={class:"flex items-start gap-3"},lt={class:"flex-1"},it={class:"text-sm font-medium text-muted-foreground"},ct={class:"text-sm"},ut={class:"flex items-start gap-3"},mt={class:"flex-1"},_t={class:"text-sm font-medium text-muted-foreground"},ft={class:"text-sm"},pt={class:"text-sm text-muted-foreground"},ht={class:"flex items-center justify-between"},gt={class:"text-sm text-muted-foreground"},vt={class:"font-mono text-sm font-medium"},bt={class:"flex items-center justify-between"},xt={class:"text-sm text-muted-foreground"},yt={class:"text-sm"},wt={class:"flex items-center justify-between"},kt={class:"text-sm text-muted-foreground"},Qt=se({__name:"Show",props:{order:{},statusOptions:{}},setup(R){const _=R,{initFlashToasts:A}=W();A();const w=ee(),b=te(),E=T(()=>!_.order.items||_.order.items.length===0?0:_.order.items.reduce((o,l)=>o+Number(l.price)*l.quantity,0)),m=o=>{const l={pending:{icon:pe,variant:"secondary",color:"text-yellow-500"},accepted:{icon:H,variant:"success",color:"text-green-500"},on_the_way:{icon:me,variant:"info",color:"text-blue-500"},completed:{icon:H,variant:"success",color:"text-green-600"},rejected:{icon:ue,variant:"destructive",color:"text-red-500"},refunded:{icon:ve,variant:"warning",color:"text-orange-500"}};return l[o]||l.pending},G=[{title:d("datatable.orders.title"),href:route("super-admin.orders.index")},{title:_.order.order_number,href:route("super-admin.orders.show",_.order.id)}],k=z(!1),C=z(!1),J=()=>{k.value=!0},X=()=>{C.value=!0},P=T(()=>`${_.order.f_name} ${_.order.l_name}`),K=o=>o.split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2),Q=o=>{var l,r;return(l=o.variant)!=null&&l.image?o.variant.image:(r=o.product)!=null&&r.image?o.product.image:""};return(o,l)=>(c(),$(de,{breadcrumbs:G},{default:n(()=>[s(e(ae),{title:e(d)("datatable.orders.title")+" - "+o.order.order_number},null,8,["title"]),t("div",be,[t("div",xe,[t("div",null,[t("h1",ye,[s(e(V),{class:"h-8 w-8"}),i(" "+a(o.order.order_number),1)]),t("p",we,a(e(w)(o.order.created_at)),1)]),t("div",ke,[s(S,{variant:"outline",onClick:J},{default:n(()=>[s(e(le),{class:"mr-2 h-4 w-4"}),i(" "+a(e(d)("datatable.change_status")),1)]),_:1}),s(S,{variant:"destructive",onClick:X},{default:n(()=>[s(e(ie),{class:"mr-2 h-4 w-4"}),i(" "+a(e(d)("datatable.delete")),1)]),_:1})])]),t("div",Ce,[(c(),$(I(m(o.order.status_raw).icon),{class:j(["h-5 w-5",m(o.order.status_raw).color])},null,8,["class"])),s(e(y),{variant:m(o.order.status_raw).variant,class:"px-4 py-1 text-base"},{default:n(()=>[i(a(o.order.status),1)]),_:1},8,["variant"])]),s(e(D)),t("div",$e,[t("div",je,[s(e(p),null,{default:n(()=>[s(e(h),null,{default:n(()=>[s(e(g),null,{default:n(()=>[i(a(e(d)("datatable.order_items")),1)]),_:1}),s(e(O),null,{default:n(()=>{var r;return[i(a(((r=o.order.items)==null?void 0:r.length)||0)+" "+a(e(d)("datatable.items")),1)]}),_:1})]),_:1}),s(e(v),null,{default:n(()=>[t("div",De,[(c(!0),u(B,null,F(o.order.items,r=>{var x,q;return c(),u("div",{key:r.id,class:"flex items-start gap-4 rounded-lg border p-4 transition-colors hover:bg-accent/50"},[s(e(L),{class:"h-32 w-32 rounded-md"},{default:n(()=>{var N;return[s(e(re),{src:Q(r),alt:((N=r.product)==null?void 0:N.name)||"Product",class:"object-cover"},null,8,["src","alt"]),s(e(U),{class:"rounded-md bg-muted"},{default:n(()=>[s(e(V),{class:"h-12 w-12 text-muted-foreground"})]),_:1})]}),_:2},1024),t("div",Me,[t("h4",Pe,a(((x=r.product)==null?void 0:x.name)||"Unknown Product"),1),t("p",qe,a(e(d)("datatable.sku"))+": "+a(((q=r.product)==null?void 0:q.sku)||"N/A"),1),r.variant?(c(),u("div",Ne,[r.variant.color?(c(),u("div",Se,[t("span",Te,a(e(d)("datatable.color"))+":",1),t("div",ze,[t("div",{class:"h-4 w-4 rounded-full border",style:oe({backgroundColor:r.variant.color.hex})},null,4),t("span",Ie,a(r.variant.color.name_en),1)])])):f("",!0),r.variant.size?(c(),u("div",Be,[t("span",Fe,a(e(d)("datatable.size"))+":",1),s(e(y),{variant:"outline"},{default:n(()=>[i(a(r.variant.size.name_en),1)]),_:2},1024)])):f("",!0)])):f("",!0),t("div",Le,[t("span",Ue,a(e(d)("datatable.quantity"))+": "+a(r.quantity),1),t("span",Oe,a(e(d)("datatable.price"))+": "+a(e(b)(r.price)),1)])]),t("div",Ve,[t("p",He,a(e(b)(Number(r.price)*r.quantity)),1)])])}),128)),!o.order.items||o.order.items.length===0?(c(),u("div",Re,a(e(d)("datatable.no_items")),1)):f("",!0)])]),_:1})]),_:1}),s(e(p),null,{default:n(()=>[s(e(h),null,{default:n(()=>[s(e(g),{class:"flex items-center gap-2"},{default:n(()=>[s(e(he),{class:"h-5 w-5"}),i(" "+a(e(d)("datatable.order_history")),1)]),_:1}),s(e(O),null,{default:n(()=>[i(a(e(d)("datatable.status_changes_timeline")),1)]),_:1})]),_:1}),s(e(v),null,{default:n(()=>[o.order.histories&&o.order.histories.length>0?(c(),u("div",Ae,[(c(!0),u(B,null,F(o.order.histories,(r,x)=>(c(),u("div",{key:r.id,class:"flex items-start gap-4"},[t("div",Ee,[t("div",{class:j(["flex h-8 w-8 items-center justify-center rounded-full",m(r.status_raw).color.replace("text-","bg-"),"bg-opacity-20"])},[(c(),$(I(m(r.status_raw).icon),{class:j(["h-4 w-4",m(r.status_raw).color])},null,8,["class"]))],2),x<o.order.histories.length-1?(c(),u("div",Ge)):f("",!0)]),t("div",Je,[t("div",Xe,[s(e(y),{variant:m(r.status_raw).variant},{default:n(()=>[i(a(r.status),1)]),_:2},1032,["variant"]),t("span",Ke,a(e(w)(r.created_at)),1)])])]))),128))])):(c(),u("div",Qe,a(e(d)("datatable.no_history")),1))]),_:1})]),_:1})]),t("div",We,[s(e(p),null,{default:n(()=>[s(e(h),null,{default:n(()=>[s(e(g),{class:"flex items-center gap-2"},{default:n(()=>[s(e(ce),{class:"h-5 w-5"}),i(" "+a(e(d)("datatable.order_summary")),1)]),_:1})]),_:1}),s(e(v),{class:"space-y-4"},{default:n(()=>[t("div",Ye,[t("span",Ze,a(e(d)("datatable.subtotal")),1),t("span",et,a(e(b)(E.value)),1)]),s(e(D)),t("div",tt,[t("span",st,a(e(d)("datatable.total")),1),t("span",at,a(e(b)(o.order.total_amount)),1)])]),_:1})]),_:1}),s(e(p),null,{default:n(()=>[s(e(h),null,{default:n(()=>[s(e(g),{class:"flex items-center gap-2"},{default:n(()=>[s(e(ne),{class:"h-5 w-5"}),i(" "+a(e(d)("datatable.customer_information")),1)]),_:1})]),_:1}),s(e(v),{class:"space-y-4"},{default:n(()=>[t("div",ot,[s(e(L),{class:"h-12 w-12"},{default:n(()=>[s(e(U),{class:"bg-primary/10 text-primary"},{default:n(()=>[i(a(K(P.value)),1)]),_:1})]),_:1}),t("div",null,[t("p",rt,a(P.value),1)])]),s(e(D)),t("div",nt,[t("div",dt,[s(e(_e),{class:"mt-0.5 h-5 w-5 text-muted-foreground"}),t("div",lt,[t("p",it,a(e(d)("datatable.phone")),1),t("p",ct,a(o.order.phone_number),1)])]),t("div",ut,[s(e(ge),{class:"mt-0.5 h-5 w-5 text-muted-foreground"}),t("div",mt,[t("p",_t,a(e(d)("datatable.address")),1),t("p",ft,a(o.order.address),1),t("p",pt,a(o.order.city),1)])])])]),_:1})]),_:1}),s(e(p),null,{default:n(()=>[s(e(h),null,{default:n(()=>[s(e(g),{class:"flex items-center gap-2"},{default:n(()=>[s(e(fe),{class:"h-5 w-5"}),i(" "+a(e(d)("datatable.order_details")),1)]),_:1})]),_:1}),s(e(v),{class:"space-y-3"},{default:n(()=>[t("div",ht,[t("span",gt,a(e(d)("datatable.order_number")),1),t("span",vt,a(o.order.order_number),1)]),t("div",bt,[t("span",xt,a(e(d)("datatable.created_at")),1),t("span",yt,a(e(w)(o.order.created_at)),1)]),t("div",wt,[t("span",kt,a(e(d)("datatable.status")),1),s(e(y),{variant:m(o.order.status_raw).variant},{default:n(()=>[i(a(o.order.status),1)]),_:1},8,["variant"])])]),_:1})]),_:1})])])]),s(Z,{open:k.value,"onUpdate:open":l[0]||(l[0]=r=>k.value=r),"item-id":o.order.id,"item-name":o.order.order_number,"route-name":"super-admin.orders.change-status","status-options":o.statusOptions,"current-status":o.order.status_raw,title:e(d)("datatable.change_status"),description:e(d)("datatable.change_status_description")},null,8,["open","item-id","item-name","status-options","current-status","title","description"]),s(Y,{open:C.value,"onUpdate:open":l[1]||(l[1]=r=>C.value=r),"item-id":o.order.id,"item-name":o.order.order_number,"route-name":"super-admin.orders.destroy",title:e(d)("datatable.delete_confirmation")},null,8,["open","item-id","item-name","title"])]),_:1}))}});export{Qt as default};
