import{d as I,n as O,A as L,C as R,I as T,E as z,f as G,o as b,w as i,a as t,b as s,u as e,m as J,h as K,c as h,e as y,t as d,g as u,l as U,O as q,F as Q,D as X,W as Y}from"./app-xSx-Cv5H.js";import{_ as w}from"./DashboardButton.vue_vue_type_script_setup_true_lang-DSVNMhNj.js";import{D as $}from"./DashboardFileUpload-BA2FRCFl.js";import{_ as k}from"./DashboardSelect.vue_vue_type_style_index_1_lang-DauKevqZ.js";import{D as V}from"./DashboardTextInput-72lOKm2D.js";import{D as F}from"./DashboardTextarea-xN12swyh.js";import{D as C}from"./DashboardToggle-CWdmla9p.js";import{_ as g}from"./Hint.vue_vue_type_script_setup_true_lang-DEiCyWwL.js";import{_ as a}from"./translations-Bf4CTFmE.js";import{_ as Z}from"./ActionLayout.vue_vue_type_script_setup_true_lang-BJMNZaAB.js";import{_ as f}from"./InputError.vue_vue_type_script_setup_true_lang-DF6iHuJW.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-Cmd_jEFz.js";import{P as ee}from"./plus-BGPzo8C6.js";import{T as ae}from"./trash-2-B6kVlGSx.js";import"./index-3jGOzvg1.js";import"./createLucideIcon-BM-4PpqC.js";import"./index-28AXQx6O.js";import"./index-BjPRC8qZ.js";import"./index-CINCSd7u.js";import"./index-CvFP9PVe.js";import"./index-BB26JwrV.js";import"./upload-C2ABd4RD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-wXdxWQ6R.js";import"./index-BEuM8Nmh.js";import"./index-tLgDD26M.js";import"./Switch.vue_vue_type_script_setup_true_lang-CjLlkF7o.js";import"./Heading.vue_vue_type_script_setup_true_lang-CVfAAqS6.js";import"./Card.vue_vue_type_script_setup_true_lang-CGo_KxuY.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-BsP2DwOW.js";import"./AdminLayout.vue_vue_type_script_setup_true_lang-BEdI-VcN.js";import"./useGuard-DxxW3IZ4.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CCYx3H7z.js";import"./check-BAB_esrP.js";const te={class:"rounded-lg border border-dashed border-muted-foreground/30 bg-muted/10 p-4"},le={class:"flex items-center gap-3"},oe={class:"flex-1"},se={class:"text-sm font-semibold"},re={class:"text-xs text-muted-foreground"},de={class:"grid grid-cols-1 gap-4 lg:grid-cols-2"},ie={class:"space-y-2"},ne={class:"space-y-2"},ue={class:"grid grid-cols-1 gap-4 lg:grid-cols-2"},ce={class:"space-y-2"},pe={class:"space-y-2"},me={class:"grid grid-cols-1 gap-4 lg:grid-cols-2"},_e={class:"space-y-2"},fe={class:"space-y-2"},ge={class:"grid grid-cols-1 gap-4 lg:grid-cols-2"},be={class:"space-y-2"},he={class:"space-y-2"},ve={class:"space-y-2"},ye={class:"space-y-2"},Ve={class:"space-y-4 rounded-lg border border-dashed border-primary/30 bg-primary/5 p-4"},xe={class:"text-sm font-semibold"},we={class:"text-xs text-muted-foreground"},ke={class:"flex gap-4"},ze={class:"flex items-center gap-2"},Ue={class:"flex items-center gap-2"},qe={class:"flex items-center gap-2"},$e={key:0,class:"space-y-2"},Ce={class:"space-y-4"},De={class:"flex items-center justify-between"},Pe={class:"text-lg font-semibold"},Le={class:"text-sm text-muted-foreground"},Te={key:0,class:"rounded-lg border border-dashed border-muted-foreground/30 bg-muted/10 p-8 text-center"},Fe={class:"text-sm text-muted-foreground"},Me={class:"flex items-center justify-between"},je={class:"font-semibold"},Be={class:"grid grid-cols-1 gap-4 lg:grid-cols-2"},Se={key:0,class:"space-y-2"},Ne={key:1,class:"space-y-2"},Ee={class:"space-y-2"},He={key:0,class:"space-y-2"},We={class:"space-y-2"},Ae={class:"flex justify-end gap-2"},ka=I({__name:"CreateComplex",props:{categories:{},qualities:{},colors:{},sizes:{}},setup(M){const x=O(),D=M,_=L("color"),v=L([]),l=R({name_en:"",name_ar:"",slug:"",description_en:"",description_ar:"",category_id:null,quality_id:null,sku:"",has_variants:!0,status:!0,temp_files:[],placement_image:[],variants:[]});T(()=>l.name_en,n=>{n?l.slug=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""):l.slug=""}),T([()=>l.category_id,()=>l.quality_id],([n,r])=>{if(n&&r){const o=D.categories.find(p=>p.id===n),m=D.qualities.find(p=>p.id===r);if(o&&m){const p=o.name_en.substring(0,3).toUpperCase(),W=m.name_en.substring(0,3).toUpperCase(),A=Date.now().toString().slice(-6);l.sku=`${p}-${W}-${A}`}}});const j=()=>{v.value.push({id:`variant-${Date.now()}`,color_id:null,size_id:null,price:null,status:!0,temp_files:[]})},B=n=>{v.value.splice(n,1)},S=z(()=>_.value==="color"||_.value==="both"),N=z(()=>_.value==="size"||_.value==="both"),E=z(()=>_.value==="color"||_.value==="both"),P=()=>{l.variants=v.value.map(n=>({color_id:n.color_id,size_id:n.size_id,price:n.price,status:n.status,temp_files:n.temp_files})),l.post(route("super-admin.products.store-complex"),{onError:n=>{console.error("Validation errors:",n)},onSuccess:()=>{console.log("Product created successfully")}})},H=[{title:a("sidebar.products"),href:route("super-admin.products.index")},{title:a("datatable.add_complex_product"),href:route("super-admin.products.create-complex")}];return(n,r)=>(b(),G(Z,{type:"create",title:e(a)("datatable.products.title"),description:e(a)("datatable.products.create_complex_description"),breadcrumbs:H,"back-href":n.route("super-admin.products.index"),"show-card":!1,"max-width":"full"},{footer:i(()=>[s("div",Ae,[t(w,{onClick:r[15]||(r[15]=o=>e(Y).visit(n.route("super-admin.products.index"))),variant:"secondary",disabled:e(l).processing},{default:i(()=>[u(d(e(a)("datatable.cancel")),1)]),_:1},8,["disabled"]),t(w,{onClick:P,loading:e(l).processing,variant:"default"},{default:i(()=>[u(d(e(a)("datatable.create")),1)]),_:1},8,["loading"])])]),default:i(()=>[t(e(J),{title:`${e(a)("datatable.add")} ${e(a)("sidebar.products")}`},null,8,["title"]),s("form",{onSubmit:K(P,["prevent"]),class:"space-y-6"},[s("div",te,[s("div",le,[r[16]||(r[16]=s("div",{class:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 5a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 16a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-3zM14 16a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1h-4a1 1 0 01-1-1v-3z"})])],-1)),s("div",oe,[s("h3",se,d(e(a)("datatable.complex_product")),1),s("p",re,d(e(a)("datatable.complex_product_description")),1)]),t(C,{id:"has_variants",modelValue:e(l).has_variants,"onUpdate:modelValue":r[0]||(r[0]=o=>e(l).has_variants=o),disabled:"",label:e(a)("datatable.variants_enabled"),size:"small"},null,8,["modelValue","label"])])]),s("div",de,[s("div",ie,[t(e(c),{for:"name_en",required:""},{default:i(()=>[u(d(e(a)("datatable.name_en")),1)]),_:1}),t(V,{id:"name_en",modelValue:e(l).name_en,"onUpdate:modelValue":r[1]||(r[1]=o=>e(l).name_en=o),type:"text",placeholder:e(a)("datatable.name_en_placeholder"),error:e(l).errors.name_en,autofocus:"",required:""},null,8,["modelValue","placeholder","error"]),t(f,{message:e(l).errors.name_en},null,8,["message"]),t(g,{text:e(a)("datatable.name_en_hint")},null,8,["text"])]),s("div",ne,[t(e(c),{for:"name_ar",required:""},{default:i(()=>[u(d(e(a)("datatable.name_ar")),1)]),_:1}),t(V,{id:"name_ar",modelValue:e(l).name_ar,"onUpdate:modelValue":r[2]||(r[2]=o=>e(l).name_ar=o),type:"text",placeholder:e(a)("datatable.name_ar_placeholder"),error:e(l).errors.name_ar,required:""},null,8,["modelValue","placeholder","error"]),t(f,{message:e(l).errors.name_ar},null,8,["message"]),t(g,{text:e(a)("datatable.name_ar_hint")},null,8,["text"])])]),s("div",ue,[s("div",ce,[t(e(c),{for:"slug",required:""},{default:i(()=>[u(d(e(a)("datatable.slug")),1)]),_:1}),t(V,{id:"slug",modelValue:e(l).slug,"onUpdate:modelValue":r[3]||(r[3]=o=>e(l).slug=o),type:"text",placeholder:e(a)("datatable.slug_placeholder"),error:e(l).errors.slug,disabled:""},null,8,["modelValue","placeholder","error"]),t(f,{message:e(l).errors.slug},null,8,["message"]),t(g,{text:e(a)("datatable.slug_auto_hint")},null,8,["text"])]),s("div",pe,[t(e(c),{for:"sku",required:""},{default:i(()=>[u(d(e(a)("datatable.sku")),1)]),_:1}),t(V,{id:"sku",modelValue:e(l).sku,"onUpdate:modelValue":r[4]||(r[4]=o=>e(l).sku=o),type:"text",placeholder:e(a)("datatable.sku_placeholder"),error:e(l).errors.sku,disabled:""},null,8,["modelValue","placeholder","error"]),t(f,{message:e(l).errors.sku},null,8,["message"]),t(g,{text:e(a)("datatable.sku_auto_hint")},null,8,["text"])])]),s("div",me,[s("div",_e,[t(e(c),{for:"category_id",required:""},{default:i(()=>[u(d(e(a)("datatable.category")),1)]),_:1}),t(k,{id:"category_id",modelValue:e(l).category_id,"onUpdate:modelValue":r[5]||(r[5]=o=>e(l).category_id=o),options:n.categories,optionLabel:e(x).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(a)("datatable.select_category"),class:"w-full",showClear:!0,filter:"",error:e(l).errors.category_id??null,filterPlaceholder:e(a)("datatable.search")},null,8,["modelValue","options","optionLabel","placeholder","error","filterPlaceholder"]),t(f,{message:e(l).errors.category_id},null,8,["message"]),t(g,{text:e(a)("datatable.category_hint")},null,8,["text"])]),s("div",fe,[t(e(c),{for:"quality_id",required:""},{default:i(()=>[u(d(e(a)("datatable.quality")),1)]),_:1}),t(k,{id:"quality_id",modelValue:e(l).quality_id,"onUpdate:modelValue":r[6]||(r[6]=o=>e(l).quality_id=o),options:n.qualities,optionLabel:e(x).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(a)("datatable.select_quality"),class:"w-full",showClear:!0,filter:"",error:e(l).errors.quality_id??null,filterPlaceholder:e(a)("datatable.search")},null,8,["modelValue","options","optionLabel","placeholder","error","filterPlaceholder"]),t(f,{message:e(l).errors.quality_id},null,8,["message"]),t(g,{text:e(a)("datatable.quality_hint")},null,8,["text"])])]),s("div",ge,[s("div",be,[t(e(c),{for:"description_en"},{default:i(()=>[u(d(e(a)("datatable.description_en")),1)]),_:1}),t(F,{id:"description_en",modelValue:e(l).description_en,"onUpdate:modelValue":r[7]||(r[7]=o=>e(l).description_en=o),placeholder:e(a)("datatable.description_en_placeholder"),error:e(l).errors.description_en,rows:4},null,8,["modelValue","placeholder","error"]),t(f,{message:e(l).errors.description_en},null,8,["message"])]),s("div",he,[t(e(c),{for:"description_ar"},{default:i(()=>[u(d(e(a)("datatable.description_ar")),1)]),_:1}),t(F,{id:"description_ar",modelValue:e(l).description_ar,"onUpdate:modelValue":r[8]||(r[8]=o=>e(l).description_ar=o),placeholder:e(a)("datatable.description_ar_placeholder"),error:e(l).errors.description_ar,rows:4},null,8,["modelValue","placeholder","error"]),t(f,{message:e(l).errors.description_ar},null,8,["message"])])]),s("div",ve,[t(e(c),{for:"status"},{default:i(()=>[u(d(e(a)("datatable.status")),1)]),_:1}),t(C,{id:"status",modelValue:e(l).status,"onUpdate:modelValue":r[9]||(r[9]=o=>e(l).status=o),error:e(l).errors.status,label:e(l).status?e(a)("datatable.active"):e(a)("datatable.inactive"),hint:e(a)("datatable.status_hint")},null,8,["modelValue","error","label","hint"]),t(f,{message:e(l).errors.status},null,8,["message"])]),s("div",ye,[t(e(c),{for:"placement_image"},{default:i(()=>[u(d(e(a)("datatable.placement_image")),1)]),_:1}),t($,{id:"placement_image",modelValue:e(l).placement_image,"onUpdate:modelValue":r[10]||(r[10]=o=>e(l).placement_image=o),multiple:!1,accept:"image/*","file-limit":1,context:"product-placement"},null,8,["modelValue"]),t(g,{text:e(a)("datatable.placement_image_hint")},null,8,["text"]),t(f,{message:e(l).errors.placement_image},null,8,["message"])]),s("div",Ve,[s("div",null,[s("h3",xe,d(e(a)("datatable.variant_type")),1),s("p",we,d(e(a)("datatable.variant_type_hint")),1)]),s("div",ke,[s("div",ze,[U(s("input",{type:"radio",id:"variant_color",value:"color","onUpdate:modelValue":r[11]||(r[11]=o=>_.value=o),class:"h-4 w-4"},null,512),[[q,_.value]]),t(e(c),{for:"variant_color",class:"cursor-pointer font-normal"},{default:i(()=>[u(d(e(a)("datatable.color_only")),1)]),_:1})]),s("div",Ue,[U(s("input",{type:"radio",id:"variant_size",value:"size","onUpdate:modelValue":r[12]||(r[12]=o=>_.value=o),class:"h-4 w-4"},null,512),[[q,_.value]]),t(e(c),{for:"variant_size",class:"cursor-pointer font-normal"},{default:i(()=>[u(d(e(a)("datatable.size_only")),1)]),_:1})]),s("div",qe,[U(s("input",{type:"radio",id:"variant_both",value:"both","onUpdate:modelValue":r[13]||(r[13]=o=>_.value=o),class:"h-4 w-4"},null,512),[[q,_.value]]),t(e(c),{for:"variant_both",class:"cursor-pointer font-normal"},{default:i(()=>[u(d(e(a)("datatable.color_and_size")),1)]),_:1})])])]),_.value==="size"?(b(),h("div",$e,[t(e(c),{for:"temp_files"},{default:i(()=>[u(d(e(a)("datatable.featured_image")),1)]),_:1}),t($,{id:"temp_files",modelValue:e(l).temp_files,"onUpdate:modelValue":r[14]||(r[14]=o=>e(l).temp_files=o),multiple:!1,accept:"image/*","file-limit":1,context:"products"},null,8,["modelValue"]),t(g,{text:e(a)("datatable.featured_image_hint")},null,8,["text"]),t(f,{message:e(l).errors.temp_files},null,8,["message"])])):y("",!0),s("div",Ce,[s("div",De,[s("div",null,[s("h3",Pe,d(e(a)("datatable.product_variants")),1),s("p",Le,d(e(a)("datatable.product_variants_hint")),1)]),t(w,{type:"button",onClick:j,variant:"outline",size:"sm"},{default:i(()=>[t(e(ee),{class:"mr-2 h-4 w-4"}),u(" "+d(e(a)("datatable.add_variant")),1)]),_:1})]),t(f,{message:e(l).errors.variants},null,8,["message"]),v.value.length===0?(b(),h("div",Te,[s("p",Fe,d(e(a)("datatable.no_variants_added")),1)])):y("",!0),(b(!0),h(Q,null,X(v.value,(o,m)=>(b(),h("div",{key:o.id,class:"space-y-4 rounded-lg border p-4"},[s("div",Me,[s("h4",je,d(e(a)("datatable.variant"))+" #"+d(m+1),1),t(w,{type:"button",onClick:p=>B(m),variant:"ghost",size:"sm"},{default:i(()=>[t(e(ae),{class:"h-4 w-4 text-destructive"})]),_:2},1032,["onClick"])]),s("div",Be,[S.value?(b(),h("div",Se,[t(e(c),{for:`color_${m}`,required:""},{default:i(()=>[u(d(e(a)("datatable.color")),1)]),_:2},1032,["for"]),t(k,{id:`color_${m}`,modelValue:o.color_id,"onUpdate:modelValue":p=>o.color_id=p,options:n.colors,optionLabel:e(x).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(a)("datatable.select_color"),class:"w-full",showClear:!0,filter:"",filterPlaceholder:e(a)("datatable.search")},null,8,["id","modelValue","onUpdate:modelValue","options","optionLabel","placeholder","filterPlaceholder"])])):y("",!0),N.value?(b(),h("div",Ne,[t(e(c),{for:`size_${m}`,required:""},{default:i(()=>[u(d(e(a)("datatable.size")),1)]),_:2},1032,["for"]),t(k,{id:`size_${m}`,modelValue:o.size_id,"onUpdate:modelValue":p=>o.size_id=p,options:n.sizes,optionLabel:e(x).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(a)("datatable.select_size"),class:"w-full",showClear:!0,filter:"",filterPlaceholder:e(a)("datatable.search")},null,8,["id","modelValue","onUpdate:modelValue","options","optionLabel","placeholder","filterPlaceholder"])])):y("",!0),s("div",Ee,[t(e(c),{for:`price_${m}`,required:""},{default:i(()=>[u(d(e(a)("datatable.price")),1)]),_:2},1032,["for"]),t(V,{id:`price_${m}`,modelValue:o.price,"onUpdate:modelValue":p=>o.price=p,type:"number",step:"0.01",placeholder:e(a)("datatable.price_placeholder")},null,8,["id","modelValue","onUpdate:modelValue","placeholder"])])]),E.value?(b(),h("div",He,[t(e(c),{for:`image_${m}`},{default:i(()=>[u(d(e(a)("datatable.variant_image")),1)]),_:2},1032,["for"]),t($,{id:`image_${m}`,modelValue:o.temp_files,"onUpdate:modelValue":p=>o.temp_files=p,multiple:!1,accept:"image/*","file-limit":1,context:"product-variants"},null,8,["id","modelValue","onUpdate:modelValue"]),t(g,{text:e(a)("datatable.variant_image_hint")},null,8,["text"])])):y("",!0),s("div",We,[t(e(c),{for:`variant_status_${m}`},{default:i(()=>[u(d(e(a)("datatable.status")),1)]),_:2},1032,["for"]),t(C,{id:`variant_status_${m}`,modelValue:o.status,"onUpdate:modelValue":p=>o.status=p,label:o.status?e(a)("datatable.active"):e(a)("datatable.inactive"),size:"small"},null,8,["id","modelValue","onUpdate:modelValue","label"])])]))),128))])],32)]),_:1},8,["title","description","back-href"]))}});export{ka as default};
