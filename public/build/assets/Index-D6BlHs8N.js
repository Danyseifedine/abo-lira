import{u as O,c as Y,a as Z,t as y,b as C,j as N,e as ee,C as te,f as ae,g as se,D as oe,_ as le,h as re,p as P,i as $}from"./index-Qh2_GkWt.js";import{_ as k}from"./DashboardButton.vue_vue_type_script_setup_true_lang-ROXzGwCG.js";import{_ as I}from"./DashboardDatePicker.vue_vue_type_style_index_0_lang-BTX0x_6H.js";import{_ as g}from"./DashboardSelect.vue_vue_type_style_index_1_lang-BKhcsO3u.js";import{_ as a}from"./translations-CYPLydp4.js";import{A as ie,W as x,d as de,n as ne,I as ce,J as ue,f as U,o as w,w as h,a as d,b as o,u as e,m as me,t as i,g as v,c as B,e as T,L as pe}from"./app-CABCWAMP.js";import{_ as _e}from"./AdminLayout.vue_vue_type_script_setup_true_lang-BEOrLhRF.js";import{_ as F}from"./index-BRT_8Dc3.js";import{c as q}from"./converters-DLekJskJ.js";import{S as fe}from"./square-pen-D5v0-gIF.js";import{T as be}from"./trash-2-BmPI1iYa.js";import{P as W}from"./plus-C3qTZY6k.js";import"./createLucideIcon-DDp1-TWy.js";import"./index-Dod-eeLU.js";import"./Card.vue_vue_type_script_setup_true_lang-c0oiIsJx.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-DA6EZJGp.js";import"./check-D7zp7Gk0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Cz7K3ZTD.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BwpNSQqA.js";import"./Switch.vue_vue_type_script_setup_true_lang-CJzz2Kxd.js";import"./index-DYPbZbjE.js";import"./index-CmqydIW-.js";import"./index-CFWAPa4X.js";import"./index-D9hNRb14.js";import"./index-DZnLN3TC.js";import"./index-CF9Fp3_T.js";import"./index-DZlk3h0L.js";import"./index-BbmQLmfh.js";import"./useGuard-DE0Hu2zZ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BadRpDpZ.js";function he(V,n){const{showCopyToClipboardToast:b}=O(),u=ie(!1);return Y([Z(n.number,{headerClassName:"text-start",startFrom:1}),y("name_en",n.name_en,{sortable:!0,searchable:!0,visible:!0,className:"font-medium font-bold",showIf:()=>document.dir==="ltr"}),y("name_ar",n.name_ar,{sortable:!0,searchable:!0,className:"font-arabic text-start",headerClassName:"text-start px-0",showIf:()=>document.dir==="rtl"}),C("category.name_en",n.category,{sortable:!1,className:"text-start",showIf:()=>document.dir==="ltr"}),C("category.name_ar",n.category,{sortable:!1,headerClassName:"text-start px-0",className:"text-start px-0",showIf:()=>document.dir==="rtl"}),C("quality.name_en",n.quality,{sortable:!1,showIf:()=>document.dir==="ltr"}),C("quality.name_ar",n.quality,{sortable:!1,className:"text-start px-0",headerClassName:"text-start px-0",showIf:()=>document.dir==="rtl"}),y("price",n.price,{sortable:!0,className:"font-medium text-start px-2",headerClassName:"text-start px-0",format:t=>t?t.toString():"_"}),y("stock_quantity",n.stock,{sortable:!0,headerClassName:"text-start px-0",className:"text-start px-3",format:t=>t?t.toString():"_"}),N("status",n.active,{headerClassName:"text-center px-0",onToggle:(t,f,m)=>{x.patch(route("super-admin.products.toggle-status",f.id),{status:t},{preserveScroll:!0,preserveState:!0,onStart:()=>{u.value=!0},onFinish:()=>{u.value=!1},onSuccess:p=>{var _;const c=(_=p.props.flash)==null?void 0:_.toast;(c==null?void 0:c.success)===!1&&m.revert()}})},disabled:()=>u.value,toggledWhen:t=>q(t),size:"sm"}),N("is_new",n.is_new,{headerClassName:"text-center px-0",onToggle:(t,f,m)=>{x.patch(route("super-admin.products.toggle-is-new",f.id),{is_new:t},{preserveScroll:!0,preserveState:!0,onStart:()=>{u.value=!0},onFinish:()=>{u.value=!1},onSuccess:p=>{var _;const c=(_=p.props.flash)==null?void 0:_.toast;(c==null?void 0:c.success)===!1&&m.revert()}})},disabled:()=>u.value,toggledWhen:t=>q(t),size:"sm"}),N("out_of_stock",n.out_of_stock,{headerClassName:"text-center px-0",onToggle:(t,f,m)=>{if(f.has_variants){m.revert();return}x.patch(route("super-admin.products.toggle-out-of-stock",f.id),{out_of_stock:t},{preserveScroll:!0,preserveState:!0,onStart:()=>{u.value=!0},onFinish:()=>{u.value=!1},onSuccess:p=>{var _;const c=(_=p.props.flash)==null?void 0:_.toast;(c==null?void 0:c.success)===!1&&m.revert()}})},disabled:t=>u.value||t.has_variants,toggledWhen:t=>q(t),size:"sm"}),ee([{label:a("datatable.copy_id"),icon:te,onClick:t=>{navigator.clipboard.writeText(t.id.toString()),b(a("datatable.product_id"))}},{separator:!0,label:a("datatable.separator")},{label:a("datatable.edit"),icon:fe,href:t=>t.has_variants?route("super-admin.products.edit-complex",t.id):route("super-admin.products.edit",t.id)},{separator:!0,label:a("datatable.separator")},{label:a("datatable.delete"),icon:be,destructive:!0,onClick:t=>{V(t)}}])])}const ge={class:"p-4"},ve={class:"mb-6 flex items-center justify-between"},xe={class:"text-3xl font-bold"},ye={class:"mt-1 text-muted-foreground"},Ce={class:"flex gap-2"},we={key:0,class:"flex items-center gap-2"},Ve={class:"space-y-4"},Se={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5"},Ne={class:"space-y-2"},ke={class:"text-sm font-medium"},Te={class:"space-y-2"},qe={class:"text-sm font-medium"},ze={class:"space-y-2"},De={class:"text-sm font-medium"},Le={class:"space-y-2"},Pe={class:"text-sm font-medium"},$e={class:"space-y-2"},Ie={class:"text-sm font-medium"},Ue={class:"space-y-2"},Be={class:"text-sm font-medium"},Fe={class:"space-y-2"},We={class:"text-sm font-medium"},Oe={class:"flex items-center justify-between border-t pt-4"},je={class:"text-sm text-muted-foreground"},Me={key:0},Re={class:"flex gap-2"},yt=de({__name:"Index",props:{products:{},filters:{},columnLabels:{},categories:{},qualities:{}},setup(V){const n=ne(),b=V,u=()=>{const s=b.filters;return{...s,status:(s==null?void 0:s.status)||"",category_id:(s==null?void 0:s.category_id)||null,quality_id:(s==null?void 0:s.quality_id)||null,has_variants:(s==null?void 0:s.has_variants)||"",is_new:(s==null?void 0:s.is_new)||"",created_from:P(s==null?void 0:s.created_from),created_to:P(s==null?void 0:s.created_to)}},{localFilters:t,isFilteringLoading:f,hasActiveFilters:m,activeFilterCount:p,applyFilters:c,clearFilters:_,updateFilters:j}=ae(u(),{routeName:"super-admin.products.index",preserveState:!1,preserveScroll:!0});ce(()=>b.filters,s=>{s&&j(u())},{deep:!0});const M=[{name:a("datatable.active"),code:"active"},{name:a("datatable.inactive"),code:"inactive"}],R=[{name:a("datatable.yes"),code:"yes"},{name:a("datatable.no"),code:"no"}],A=[{name:a("datatable.yes"),code:"yes"},{name:a("datatable.no"),code:"no"}],E=()=>{t.value.created_from&&(t.value.created_from=$(t.value.created_from)),t.value.created_to&&(t.value.created_to=$(t.value.created_to)),c()},J={searchable:!0,searchPlaceholder:a("datatable.search_placeholder"),selectable:!0,columnVisibility:!0,perPageSelector:!0,perPageOptions:[10,25,50,100],serverSide:!0,pagination:b.products,filterable:!0,filters:{...b.filters,direction:b.filters.direction},routeName:"super-admin.products.index"},G=()=>{},{initFlashToasts:H}=O();ue(()=>{H()});const K=[{title:a("sidebar.products"),href:route("super-admin.products.index")}],{deleteDialogOpen:S,itemToDelete:z,openDeleteDialog:Q}=se(),X=he(Q,b.columnLabels);return(s,l)=>(w(),U(_e,{breadcrumbs:K},{default:h(()=>{var D,L;return[d(e(me),{title:e(a)("sidebar.products")},null,8,["title"]),o("div",ge,[o("div",ve,[o("div",null,[o("h1",xe,i(e(a)("datatable.products.title")),1),o("p",ye,i(e(a)("datatable.products.description")),1)]),o("div",Ce,[d(k,{variant:"default",onClick:l[0]||(l[0]=()=>e(x).get(s.route("super-admin.products.create")))},{default:h(()=>[d(e(W),{class:"mr-2 h-4 w-4"}),v(" "+i(e(a)("datatable.add_simple_product")),1)]),_:1}),d(k,{variant:"outline",onClick:l[1]||(l[1]=()=>e(x).get(s.route("super-admin.products.create-complex")))},{default:h(()=>[d(e(W),{class:"mr-2 h-4 w-4"}),v(" "+i(e(a)("datatable.add_complex_product")),1)]),_:1})])]),d(oe,{columns:e(X),data:s.products.data,config:J,onSelectionChange:G},{toolbar:h(({table:r})=>[e(m)?(w(),B("div",we,[d(e(le),{value:`${e(p)} ${e(p)===1?e(a)("datatable.filter"):e(a)("datatable.filters")} ${e(a)("datatable.applied")}`,severity:"info"},null,8,["value"])])):T("",!0),r.getFilteredSelectedRowModel().rows.length>0?(w(),U(e(F),{key:1,variant:"destructive",size:"sm"},{default:h(()=>[v(i(e(a)("datatable.delete"))+" ("+i(r.getFilteredSelectedRowModel().rows.length)+") ",1)]),_:2},1024)):T("",!0)]),filters:h(()=>[o("div",Ve,[o("div",Se,[o("div",Ne,[o("label",ke,i(e(a)("datatable.status")),1),d(g,{modelValue:e(t).status,"onUpdate:modelValue":l[2]||(l[2]=r=>e(t).status=r),options:M,optionLabel:"name",optionValue:"code",placeholder:e(a)("datatable.all_status"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),o("div",Te,[o("label",qe,i(e(a)("datatable.category")),1),d(g,{modelValue:e(t).category_id,"onUpdate:modelValue":l[3]||(l[3]=r=>e(t).category_id=r),options:s.categories,optionLabel:e(n).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(a)("datatable.all_categories"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(a)("datatable.search")},null,8,["modelValue","options","optionLabel","placeholder","filterPlaceholder"])]),o("div",ze,[o("label",De,i(e(a)("datatable.quality")),1),d(g,{modelValue:e(t).quality_id,"onUpdate:modelValue":l[4]||(l[4]=r=>e(t).quality_id=r),options:s.qualities,optionLabel:e(n).props.locale==="ar"?"name_ar":"name_en",optionValue:"id",placeholder:e(a)("datatable.all_qualities"),class:"w-full",size:"small",showClear:!0,filter:"",filterPlaceholder:e(a)("datatable.search")},null,8,["modelValue","options","optionLabel","placeholder","filterPlaceholder"])]),o("div",Le,[o("label",Pe,i(e(a)("datatable.has_variants")),1),d(g,{modelValue:e(t).has_variants,"onUpdate:modelValue":l[5]||(l[5]=r=>e(t).has_variants=r),options:R,optionLabel:"name",optionValue:"code",placeholder:e(a)("datatable.all"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),o("div",$e,[o("label",Ie,i(e(a)("datatable.is_new")),1),d(g,{modelValue:e(t).is_new,"onUpdate:modelValue":l[6]||(l[6]=r=>e(t).is_new=r),options:A,optionLabel:"name",optionValue:"code",placeholder:e(a)("datatable.all"),class:"w-full",size:"small",showClear:!0},null,8,["modelValue","placeholder"])]),o("div",Ue,[o("label",Be,i(e(a)("datatable.created_from")),1),d(I,{modelValue:e(t).created_from,"onUpdate:modelValue":l[7]||(l[7]=r=>e(t).created_from=r),placeholder:e(a)("datatable.select_created_from"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])]),o("div",Fe,[o("label",We,i(e(a)("datatable.created_to")),1),d(I,{modelValue:e(t).created_to,"onUpdate:modelValue":l[8]||(l[8]=r=>e(t).created_to=r),placeholder:e(a)("datatable.select_created_to"),size:"small","icon-display":"input"},null,8,["modelValue","placeholder"])])]),o("div",Oe,[o("div",je,[e(m)?(w(),B("span",Me,i(e(p))+" "+i(e(p)===1?e(a)("datatable.filter"):e(a)("datatable.filters"))+" "+i(e(a)("datatable.applied")),1)):T("",!0)]),o("div",Re,[d(e(F),{onClick:e(_),variant:"ghost",size:"sm",disabled:!e(m)||e(f)},{default:h(()=>[v(i(e(a)("datatable.clear_all")),1)]),_:1},8,["onClick","disabled"]),d(k,{onClick:E,size:"sm",variant:"default",loading:e(f)},{default:h(()=>[v(i(e(a)("datatable.filter")),1)]),_:1},8,["loading"])])])])]),_:1},8,["columns","data"]),d(re,{open:e(S),"onUpdate:open":l[9]||(l[9]=r=>pe(S)?S.value=r:null),"item-id":((D=e(z))==null?void 0:D.id)??null,"item-name":(L=e(z))==null?void 0:L.name_en,"route-name":"super-admin.products.destroy",title:e(a)("datatable.delete"),description:e(a)("datatable.delete_confirmation_text"),"confirm-button-text":e(a)("datatable.delete_confirmation_button")},null,8,["open","item-id","item-name","title","description","confirm-button-text"])])]}),_:1}))}});export{yt as default};
