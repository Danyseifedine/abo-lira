import{d as S,C as k,q as N,j as $,f as C,o as i,u as e,w as t,a as l,b as d,g as f,t as a,c as p,e as b,E as w,O as x,s as B,F as V}from"./app-C_9PBI8O.js";import{_ as D}from"./DashboardButton.vue_vue_type_script_setup_true_lang-jdvaR_3Y.js";import{_ as m}from"./index-D-urzs1U.js";import{_ as E}from"./index-DmYhWnlU.js";import{_ as I,a as O,b as F,c as M,d as U,e as j,f as q}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B3JVcvq7.js";const L={key:0,class:"font-semibold text-foreground"},T={class:"space-y-4 py-4"},z={class:"space-y-2"},A={class:"text-sm font-medium"},G={value:null,disabled:""},H=["value"],J={key:0,class:"text-sm text-destructive"},X=S({__name:"datatableStatusChangeDialog",props:{open:{type:Boolean},itemId:{},itemName:{},routeName:{},statusOptions:{},currentStatus:{},title:{default:"Change Status"},description:{default:"Select a new status for this order."}},emits:["update:open"],setup(v,{emit:g}){const u=v,_=g,s=k({status:""}),n=N(null);$(()=>u.open,o=>{o?(n.value=u.currentStatus||null,s.status=u.currentStatus||""):(n.value=null,s.clearErrors(),s.reset())});const h=()=>{!u.itemId||!n.value||(s.status=n.value,s.patch(route(u.routeName,u.itemId),{preserveScroll:!1,preserveState:!1,onSuccess:()=>{_("update:open",!1)}}))},y=()=>{_("update:open",!1)};return(o,c)=>(i(),C(e(I),{open:o.open,"onUpdate:open":c[1]||(c[1]=r=>_("update:open",r))},{default:t(()=>[l(e(q),null,{default:t(()=>[l(e(O),{class:"space-y-3"},{default:t(()=>[l(e(F),null,{default:t(()=>[f(a(o.title),1)]),_:1}),l(e(M),null,{default:t(()=>[f(a(o.description)+" ",1),o.itemName?(i(),p("span",L,a(o.itemName),1)):b("",!0)]),_:1})]),_:1}),d("div",T,[d("div",z,[d("label",A,a(e(m)("datatable.status")),1),w(d("select",{"onUpdate:modelValue":c[0]||(c[0]=r=>n.value=r),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[d("option",G,a(e(m)("datatable.select_status")),1),(i(!0),p(V,null,B(o.statusOptions,r=>(i(),p("option",{key:r.value,value:r.value},a(r.label),9,H))),128))],512),[[x,n.value]]),e(s).errors.status?(i(),p("p",J,a(e(s).errors.status),1)):b("",!0)])]),l(e(U),{class:"gap-2"},{default:t(()=>[l(e(j),{"as-child":""},{default:t(()=>[l(e(E),{variant:"secondary",onClick:y},{default:t(()=>[f(a(e(m)("datatable.cancel")),1)]),_:1})]),_:1}),l(D,{type:"button",variant:"default",loading:e(s).processing,disabled:!n.value,onClick:h},{default:t(()=>[f(a(e(m)("datatable.update_status")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}});export{X as _};
